[{"title":"Concepts","key":0,"id":14,"level":0,"ideas":{"1":{"title":"Event streams","key":1,"id":5,"level":0},"2":{"title":"Vinyl files","key":2,"id":4,"level":1},"3":{"title":"Globs","key":3,"id":6,"level":2},"4":{"title":"Node Streams","key":4,"id":2,"level":3,"ideas":{}},"5":{"title":"Regex","key":5,"id":7,"level":4},"6":{"title":"Plugins","key":6,"id":30,"level":5,"ideas":{"1":{"title":"What does a good plugin look like?","content":"<h3 style=\"box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;\">What does a good plugin look like?</h3><div class=\"highlight highlight-js\" style=\"box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;\"><pre style=\"box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);\"><span class=\"pl-c\" style=\"box-sizing: border-box; color: rgb(150, 152, 150);\">// through2 is a thin wrapper around node transform streams</span>\n<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">var</span> through <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> <span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">require</span>(<span class=\"pl-s\" style=\"box-sizing: border-box; color: rgb(24, 54, 145);\"><span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span>through2<span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span></span>);\n<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">var</span> gutil <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> <span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">require</span>(<span class=\"pl-s\" style=\"box-sizing: border-box; color: rgb(24, 54, 145);\"><span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span>gulp-util<span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span></span>);\n<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">var</span> PluginError <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> gutil.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">PluginError</span>;\n\n<span class=\"pl-c\" style=\"box-sizing: border-box; color: rgb(150, 152, 150);\">// Consts</span>\n<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">const</span> <span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">PLUGIN_NAME</span> <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> <span class=\"pl-s\" style=\"box-sizing: border-box; color: rgb(24, 54, 145);\"><span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span>gulp-prefixer<span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span></span>;\n\n<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">function</span> <span class=\"pl-en\" style=\"box-sizing: border-box; color: rgb(121, 93, 163);\">prefixStream</span>(<span class=\"pl-smi\" style=\"box-sizing: border-box;\">prefixText</span>) {\n  <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">var</span> stream <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> <span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">through</span>();\n  stream.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">write</span>(prefixText);\n  <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">return</span> stream;\n}\n\n<span class=\"pl-c\" style=\"box-sizing: border-box; color: rgb(150, 152, 150);\">// Plugin level function(dealing with files)</span>\n<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">function</span> <span class=\"pl-en\" style=\"box-sizing: border-box; color: rgb(121, 93, 163);\">gulpPrefixer</span>(<span class=\"pl-smi\" style=\"box-sizing: border-box;\">prefixText</span>) {\n\n  <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">if</span> (<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">!</span>prefixText) {\n    <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">throw</span> <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">new</span> <span class=\"pl-en\" style=\"box-sizing: border-box; color: rgb(121, 93, 163);\">PluginError</span>(<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">PLUGIN_NAME</span>, <span class=\"pl-s\" style=\"box-sizing: border-box; color: rgb(24, 54, 145);\"><span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span>Missing prefix text!<span class=\"pl-pds\" style=\"box-sizing: border-box;\">'</span></span>);\n  }\n  prefixText <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">new</span> <span class=\"pl-en\" style=\"box-sizing: border-box; color: rgb(121, 93, 163);\">Buffer</span>(prefixText); <span class=\"pl-c\" style=\"box-sizing: border-box; color: rgb(150, 152, 150);\">// allocate ahead of time</span>\n\n  <span class=\"pl-c\" style=\"box-sizing: border-box; color: rgb(150, 152, 150);\">// Creating a stream through which each file will pass</span>\n  <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">return</span> through.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">obj</span>(<span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">function</span>(<span class=\"pl-smi\" style=\"box-sizing: border-box;\">file</span>, <span class=\"pl-smi\" style=\"box-sizing: border-box;\">enc</span>, <span class=\"pl-smi\" style=\"box-sizing: border-box;\">cb</span>) {\n    <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">if</span> (file.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">isNull</span>()) {\n      <span class=\"pl-c\" style=\"box-sizing: border-box; color: rgb(150, 152, 150);\">// return empty file</span>\n      <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">return</span> <span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">cb</span>(<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">null</span>, file);\n    }\n    <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">if</span> (file.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">isBuffer</span>()) {\n      file.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">contents</span> <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> Buffer.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">concat</span>([prefixText, file.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">contents</span>]);\n    }\n    <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">if</span> (file.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">isStream</span>()) {\n      file.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">contents</span> <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> file.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">contents</span>.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">pipe</span>(<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">prefixStream</span>(prefixText));\n    }\n\n    <span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">cb</span>(<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">null</span>, file);\n\n  });\n\n}\n\n<span class=\"pl-c\" style=\"box-sizing: border-box; color: rgb(150, 152, 150);\">// Exporting the plugin main function</span>\n<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">module</span>.<span class=\"pl-c1\" style=\"box-sizing: border-box; color: rgb(0, 134, 179);\">exports</span> <span class=\"pl-k\" style=\"box-sizing: border-box; color: rgb(167, 29, 93);\">=</span> gulpPrefixer;</pre></div>","key":1,"id":31,"level":0}}}}},{"title":"Third party","key":1,"id":27,"level":1,"ideas":{"1":{"title":"Through","key":1,"id":28,"level":0,"ideas":{"2":{"title":"https://www.npmjs.com/package/through2","key":2,"id":32,"level":0},"3":{"title":"Creates streams that are both readable and writeable","key":3,"id":33,"level":1,"ideas":{"1":{"title":"through suggests that files go through two functions","key":1,"id":34,"level":0,"ideas":{"1":{"title":"Read","key":1,"id":35,"level":0},"2":{"title":"Write","key":2,"id":36,"level":1}}}}}}}}},{"title":"Resources","key":2,"id":8,"level":2,"ideas":{"1":{"title":"https://github.com/substack/stream-handbook","key":1,"id":9,"level":0,"ideas":{"1":{"title":"node stream handbook","key":1,"id":10,"level":0}}},"2":{"title":"https://github.com/wearefractal/vinyl-fs","key":2,"id":11,"level":1,"ideas":{"1":{"title":"vinyl-fs","key":1,"id":12,"level":0,"ideas":{"1":{"title":"metadata with a file?","key":1,"id":13,"level":0}}}}},"5":{"title":"https://github.com/gulpjs/gulp/blob/master/docs/API.md","key":5,"id":22,"level":2,"ideas":{"1":{"title":"gulp docs","key":1,"id":23,"level":0},"2":{"title":"https://github.com/isaacs/node-glob","key":2,"id":20,"level":1,"ideas":{"1":{"title":"glob options","key":1,"id":21,"level":0}}},"3":{"title":"https://github.com/gulpjs/gulp/blob/master/docs/API.md","key":3,"id":15,"level":2,"ideas":{"1":{"title":"Gulp Api","key":1,"id":16,"level":0,"ideas":{"1":{"title":"gulp.dest","key":1,"id":17,"level":0},"2":{"title":"gulp.src ","key":2,"id":18,"level":1},"3":{"title":"...","key":3,"id":19,"level":2}}}}},"4":{"title":"https://github.com/gulpjs/gulp/blob/master/docs/writing-a-plugin/README.md","key":4,"id":24,"level":3,"ideas":{"1":{"title":"Writing a plugin","key":1,"id":25,"level":0}}}}}}}]