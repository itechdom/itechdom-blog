#Classes
#New Native Solutions
#Looking at changes to exisiting features
#ES5 to 6 demo
#Different approaches
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch8.md
#Beyond ES6
#...
#Proxies
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch7.md
#Meta Programming
#Objects
#Arrays
#Any additions to existing types
#Api Additions
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch5.md
#Typed Arrays
#Sets
#Map
#Collections
#Generator + Promises
#Thenable
#Promises
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch4.md
#Async && Flow Control
#Modules
#Additions
#Interfaces
#Generators
#Iterators
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch3.md
#Organization
#Review
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Review</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 adds a heap of new syntax forms to JavaScript, so there's plenty to learn!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Most of these are designed to ease the pain points of common programming idioms, such as setting default values to function parameters and gathering the "rest" of the parameters into an array. Destructuring is a powerful tool for more concisely expressing assignments of values from arrays and nested objects.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While features like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions appear to also be all about shorter and nicer-looking syntax, they actually have very specific behaviors that you should intentionally use only in appropriate situations.<p style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px; margin-bottom: 0px !important;">Expanded Unicode support, new tricks for regular expressions, and even a new primitive&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symbol```
&nbsp;type round out the syntactic evolution of ES6.
#String value that can't be repeated
#Symbols
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Symbols</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">With ES6, for the first time in quite a while, a new primitive type has been added to JavaScript: the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symbol```
. Unlike the other primitive types, however, symbols don't have a literal form.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's how you create a symbol:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var sym <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"some optional description<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof sym;     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "symbol"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Some things to note:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;">You cannot and should not use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">new```
&nbsp;with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol(..)```
. It's not a constructor, nor are you producing an object.</li><li style="box-sizing: border-box;">The parameter passed to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol(..)```
&nbsp;is optional. If passed, it should be a string that gives a friendly description for the symbol's purpose.</li><li style="box-sizing: border-box;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">typeof```
&nbsp;output is a new value (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"symbol"```
) that is the primary way to identify a symbol.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The description, if provided, is solely used for the stringification representation of the symbol:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">sym.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString();     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Symbol(some optional description)"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similar to how primitive string values are not instances of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String```
, symbols are also not instances of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol```
. If, for some reason, you want to construct a boxed wrapper object form of a symbol value, you can do the following:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">sym <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">instanceof Symbol;      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var symObj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object( sym );
symObj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">instanceof Symbol;   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true

symObj.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">valueOf() <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== sym;   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symObj```
&nbsp;in this snippet is interchangeable with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">sym```
; either form can be used in all places symbols are utilized. There's not much reason to use the boxed wrapper object form (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symObj```
) instead of the primitive form (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">sym```
). Keeping with similar advice for other primitives, it's probably best to prefer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">sym```
&nbsp;over&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symObj```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The internal value of a symbol itself -- referred to as its&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;-- is hidden from the code and cannot be obtained. You can think of this symbol value as an automatically generated, unique (within your application) string value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But if the value is hidden and unobtainable, what's the point of having a symbol at all?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The main point of a symbol is to create a string-like value that can't collide with any other value. So, for example, consider using a symbol as a constant representing an event name:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"event.login<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You'd then use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;in place of a generic string literal like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"event.login"```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">evthub.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">listen( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN, <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">data){
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The benefit here is that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;holds a value that cannot be duplicated (accidentally or otherwise) by any other value, so it is impossible for there to be any confusion of which event is being dispatched or handled.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Under the covers, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">evthub```
&nbsp;utility assumed in the previous snippet would almost certainly be using the symbol value from the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;argument directly as the property/key in some internal object (hash) that tracks event handlers. If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">evthub```
&nbsp;instead needed to use the symbol value as a real string, it would need to explicitly coerce with<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String(..)```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toString()```
, as implicit string coercion of symbols is not allowed.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You may use a symbol directly as a property name/key in an object, such as a special property that you want to treat as hidden or meta in usage. It's important to know that although you intend to treat it as such, it is not&nbsp;<em style="box-sizing: border-box;">actually</em>&nbsp;a hidden or untouchable property.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider this module that implements the&nbsp;<em style="box-sizing: border-box;">singleton</em>&nbsp;pattern behavior -- that is, it only allows itself to be created once:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"instance<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">HappyFace() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE]) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE];

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">smile() { .. }

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        smile<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: smile
    };
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var me <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">HappyFace(),
    you <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">HappyFace();

me <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== you;         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">INSTANCE```
&nbsp;symbol value here is a special, almost hidden, meta-like property stored statically on the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">HappyFace()```
function object.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It could alternatively have been a plain old property like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__instance```
, and the behavior would have been identical. The usage of a symbol simply improves the metaprogramming style, keeping this&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">INSTANCE```
&nbsp;property set apart from any other normal properties.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-symbol-registry" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#symbol-registry" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Symbol Registry</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">One mild downside to using symbols as in the last few examples is that the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">INSTANCE```
&nbsp;variables had to be stored in an outer scope (perhaps even the global scope), or otherwise somehow stored in a publicly available location, so that all parts of the code that need to use the symbols can access them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To aid in organizing code with access to these symbols, you can create symbol values with the&nbsp;<em style="box-sizing: border-box;">global symbol registry</em>. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"event.login<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Symbol(event.login)</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">HappyFace() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"instance<span class="pl-pds" style="box-sizing: border-box;">" );

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE]) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE];

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { .. };
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.for(..)```
&nbsp;looks in the global symbol registry to see if a symbol is already stored with the provided description text, and returns it if so. If not, it creates one to return. In other words, the global symbol registry treats symbol values, by description text, as singletons themselves.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But that also means that any part of your application can retrieve the symbol from the registry using&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.for(..)```
, as long as the matching description name is used.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Ironically, symbols are basically intended to replace the use of&nbsp;<em style="box-sizing: border-box;">magic strings</em>&nbsp;(arbitrary string values given special meaning) in your application. But you precisely use&nbsp;<em style="box-sizing: border-box;">magic</em>&nbsp;description string values to uniquely identify/locate them in the global symbol registry!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To avoid accidental collisions, you'll probably want to make your symbol descriptions quite unique. One easy way of doing that is to include prefix/context/namespacing information in them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example, consider a utility such as the following:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">extractValues(<span class="pl-smi" style="box-sizing: border-box;">str) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var key <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"extractValues.parse<span class="pl-pds" style="box-sizing: border-box;">" ),
        re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= extractValues[key] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">||
<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);">            <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">[<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^=&amp;]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+?=(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">[<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^&amp;]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+?)(?=&amp;<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">$)<span class="pl-pds" style="box-sizing: border-box;">/g,
        values <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [], match;

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">while (match <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str )) {
        values.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">push( match[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] );
    }

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return values;
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We use the magic string value&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"extractValues.parse"```
&nbsp;because it's quite unlikely that any other symbol in the registry would ever collide with that description.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If a user of this utility wants to override the parsing regular expression, they can also use the symbol registry:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">extractValues[Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"extractValues.parse<span class="pl-pds" style="box-sizing: border-box;">" )] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);">    <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">..some pattern<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">..<span class="pl-pds" style="box-sizing: border-box;">/g;

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">extractValues( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"..some string..<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Aside from the assistance the symbol registry provides in globally storing these values, everything we're seeing here could have been done by just actually using the magic string&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"extractValues.parse"```
&nbsp;as the key, rather than the symbol. The improvements exist at the metaprogramming level more than the functional level.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You may have occasion to use a symbol value that has been stored in the registry to look up what description text (key) it's stored under. For example, you may need to signal to another part of your application how to locate a symbol in the registry because you cannot pass the symbol value itself.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can retrieve a registered symbol's description text (key) using&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.keyFor(..)```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"something cool<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">keyFor( s );
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( desc );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "something cool"

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// get the symbol from the registry again
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( desc );

s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s;                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-symbols-as-object-properties" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#symbols-as-object-properties" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Symbols as Object Properties</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If a symbol is used as a property/key of an object, it's stored in a special way so that the property will not show up in a normal enumeration of the object's properties:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    foo<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42,
    [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">" ) ]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"hello world<span class="pl-pds" style="box-sizing: border-box;">",
    baz<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true
};

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">getOwnPropertyNames( o );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "foo","baz" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To retrieve an object's symbol properties:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">getOwnPropertySymbols( o );  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ Symbol(bar) ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This makes it clear that a property symbol is not actually hidden or inaccessible, as you can always see it in the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.getOwnPropertySymbols(..)```
&nbsp;list.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-built-in-symbols" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#built-in-symbols" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Built-In Symbols</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 comes with a number of predefined built-in symbols that expose various meta behaviors on JavaScript object values. However, these symbols are&nbsp;<em style="box-sizing: border-box;">not</em>&nbsp;registered in the global symbol registry, as one might expect.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Instead, they're stored as properties on the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol```
&nbsp;function object. For example, in the "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
" section earlier in this chapter, we introduced the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.iterator```
&nbsp;value:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];

a[Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">iterator];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// native function</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The specification uses the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@```
&nbsp;prefix notation to refer to the built-in symbols, the most common ones being:<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@iterator```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@toStringTag```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@toPrimitive```
. Several others are defined as well, though they probably won't be used as often.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;See "Well Known Symbols" in Chapter 7 for detailed information about how these built-in symbols are used for meta programming purposes.
#Unicode
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Unicode</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let me just say that this section is not an exhaustive everything-you-ever-wanted-to-know-about-Unicode resource. I want to cover what you need to know that's&nbsp;<em style="box-sizing: border-box;">changing</em>&nbsp;for Unicode in ES6, but we won't go much deeper than that. Mathias Bynens (<a href="http://twitter.com/mathias" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://twitter.com/mathias</a>) has written/spoken extensively and brilliantly about JS and Unicode (see<a href="https://mathiasbynens.be/notes/javascript-unicode" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://mathiasbynens.be/notes/javascript-unicode</a>&nbsp;and&nbsp;<a href="http://fluentconf.com/javascript-html-2015/public/content/2015/02/18-javascript-loves-unicode" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://fluentconf.com/javascript-html-2015/public/content/2015/02/18-javascript-loves-unicode</a>).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The Unicode characters that range from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0x0000```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0xFFFF```
&nbsp;contain all the standard printed characters (in various languages) that you're likely to have seen or interacted with. This group of characters is called the&nbsp;<em style="box-sizing: border-box;">Basic Multilingual Plane (BMP)</em>. The BMP even contains fun symbols like this cool snowman: ☃ (U+2603).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There are lots of other extended Unicode characters beyond this BMP set, which range up to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0x10FFFF```
. These symbols are often referred to as&nbsp;<em style="box-sizing: border-box;">astral</em>&nbsp;symbols, as that's the name given to the set of 16&nbsp;<em style="box-sizing: border-box;">planes</em>&nbsp;(e.g., layers/groupings) of characters beyond the BMP. Examples of astral symbols include 𝄞 (U+1D11E) and&nbsp;<g-emoji alias="hankey" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4a9.png" style="box-sizing: border-box;">💩</g-emoji>&nbsp;(U+1F4A9).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, JavaScript strings could specify Unicode characters using Unicode escaping, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var snowman <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\u2603<span class="pl-pds" style="box-sizing: border-box;">";
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( snowman );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "☃"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\uXXXX```
&nbsp;Unicode escaping only supports four hexadecimal characters, so you can only represent the BMP set of characters in this way. To represent an astral character using Unicode escaping prior to ES6, you need to use a<em style="box-sizing: border-box;">surrogate pair</em>&nbsp;-- basically two specially calculated Unicode-escaped characters side by side, which JS interprets together as a single astral character:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\uD834<span class="pl-cce" style="box-sizing: border-box;">\uDD1E<span class="pl-pds" style="box-sizing: border-box;">";
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( gclef );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝄞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As of ES6, we now have a new form for Unicode escaping (in strings and regular expressions), called Unicode&nbsp;<em style="box-sizing: border-box;">code point escaping</em>:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\u{1D11E}<span class="pl-pds" style="box-sizing: border-box;">";
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( gclef );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝄞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, the difference is the presence of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ }```
&nbsp;in the escape sequence, which allows it to contain any number of hexadecimal characters. Because you only need six to represent the highest possible code point value in Unicode (i.e., 0x10FFFF), this is sufficient.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-unicode-aware-string-operations" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#unicode-aware-string-operations" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Unicode-Aware String Operations</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">By default, JavaScript string operations and methods are not sensitive to astral symbols in string values. So, they treat each BMP character individually, even the two surrogate halves that make up an otherwise single astral character. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var snowman <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"☃<span class="pl-pds" style="box-sizing: border-box;">";
snowman.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞<span class="pl-pds" style="box-sizing: border-box;">";
gclef.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, how do we accurately calculate the length of such a string? In this scenario, the following trick will work:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞<span class="pl-pds" style="box-sizing: border-box;">";

[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">gclef].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Array.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">from( gclef ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall from the "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;Loops" section earlier in this chapter that ES6 strings have built-in iterators. This iterator happens to be Unicode-aware, meaning it will automatically output an astral symbol as a single value. We take advantage of that using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;spread operator in an array literal, which creates an array of the string's symbols. Then we just inspect the length of that resultant array. ES6's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Array.from(..)```
&nbsp;does basically the same thing as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[...XYZ]```
, but we'll cover that utility in detail in Chapter 6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;It should be noted that constructing and exhausting an iterator just to get the length of a string is quite expensive on performance, relatively speaking, compared to what a theoretically optimized native utility/property would do.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unfortunately, the full answer is not as simple or straightforward. In addition to the surrogate pairs (which the string iterator takes care of), there are special Unicode code points that behave in other special ways, which is much harder to account for. For example, there's a set of code points that modify the previous adjacent character, known as<em style="box-sizing: border-box;">Combining Diacritical Marks</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider these two string outputs:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s1 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "é"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s2 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "é"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">They look the same, but they're not! Here's how we created&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">s1```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">s2```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\xE9<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-cce" style="box-sizing: border-box;">\u0301<span class="pl-pds" style="box-sizing: border-box;">";</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can probably guess, our previous&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">length```
&nbsp;trick doesn't work with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">s2```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s1].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s2].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So what can we do? In this case, we can perform a&nbsp;<em style="box-sizing: border-box;">Unicode normalization</em>&nbsp;on the value before inquiring about its length, using the ES6&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String#normalize(..)```
&nbsp;utility (which we'll cover more in Chapter 6):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\xE9<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-cce" style="box-sizing: border-box;">\u0301<span class="pl-pds" style="box-sizing: border-box;">";

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1

s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s2;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize();          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Essentially,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">normalize(..)```
&nbsp;takes a sequence like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"e\u0301"```
&nbsp;and normalizes it to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"\xE9"```
. Normalization can even combine multiple adjacent combining marks if there's a suitable Unicode character they combine to:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"o<span class="pl-cce" style="box-sizing: border-box;">\u0302<span class="pl-cce" style="box-sizing: border-box;">\u0300<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize(),
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ồ<span class="pl-pds" style="box-sizing: border-box;">";

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 3
s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1

s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s3;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unfortunately, normalization isn't fully perfect here, either. If you have multiple combining marks modifying a single character, you may not get the length count you'd expect, because there may not be a single defined normalized character that represents the combination of all the marks. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-cce" style="box-sizing: border-box;">\u0301<span class="pl-cce" style="box-sizing: border-box;">\u0330<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s1 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ḛ́"

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The further you go down this rabbit hole, the more you realize that it's difficult to get one precise definition for "length." What we see visually rendered as a single character -- more precisely called a&nbsp;<em style="box-sizing: border-box;">grapheme</em>&nbsp;-- doesn't always strictly relate to a single "character" in the program processing sense.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Tip:</strong>&nbsp;If you want to see just how deep this rabbit hole goes, check out the "Grapheme Cluster Boundaries" algorithm (<a href="http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://www.Unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries</a>).<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-character-positioning" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#character-positioning" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Character Positioning</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similar to length complications, what does it actually mean to ask, "what is the character at position 2?" The naive pre-ES6 answer comes from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charAt(..)```
, which will not respect the atomicity of an astral character, nor will it take into account combining marks.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s1 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "abćd"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s2 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "abćd"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s3 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ab𝒞d"

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "c"
s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"
s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "" <-- unprintable surrogate
s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "" <-- unprintable surrogate</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, is ES6 giving us a Unicode-aware verison of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charAt(..)```
? Unfortunately, no. At the time of this writing, there's a proposal for such a utility that's under consideration for post-ES6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But with what we explored in the previous section (and of course with the limitations noted thereof!), we can hack an ES6 answer:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize()][<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"
[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize()][<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"
[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize()][<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝒞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Reminder of an earlier warning: constructing and exhausting an iterator each time you want to get at a single character is... very not ideal, performance wise. Let's hope we get a built-in and optimized utility for this soon, post-ES6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">What about a Unicode-aware version of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charCodeAt(..)```
&nbsp;utility? ES6 gives us&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">codePointAt(..)```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "107"

s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "107"

s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "1d49e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">What about the other direction? A Unicode-aware version of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.fromCharCode(..)```
&nbsp;is ES6's<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.fromCodePoint(..)```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x107 );      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x1d49e );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝒞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So wait, can we just combine&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.fromCodePoint(..)```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">codePointAt(..)```
&nbsp;to get a better version of a Unicode-aware&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charAt(..)```
&nbsp;from earlier? Yep!<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ) );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ) );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ) );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝒞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's quite a few other string methods we haven't addressed here, including&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toUpperCase()```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toLowerCase()```
,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">substring(..)```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">indexOf(..)```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">slice(..)```
, and a dozen others. None of these have been changed or augmented for full Unicode awareness, so you should be very careful -- probably just avoid them! -- when working with strings containing astral symbols.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There are also several string methods that use regular expressions for their behavior, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">replace(..)```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">match(..)```
. Thankfully, ES6 brings Unicode awareness to regular expressions, as we covered in "Unicode Flag" earlier in this chapter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">OK, there we have it! JavaScript's Unicode string support is significantly better over pre-ES6 (though still not perfect) with the various additions we've just covered.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-unicode-identifier-names" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#unicode-identifier-names" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Unicode Identifier Names</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unicode can also be used in identifier names (variables, properties, etc.). Prior to ES6, you could do this with Unicode-escapes, like:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var \u03A9 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42;

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// same as: var Ω = 42;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As of ES6, you can also use the earlier explained code point escape syntax:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var \u{2B400} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42;

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// same as: var 𫐀 = 42;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a complex set of rules around exactly which Unicode characters are allowed. Furthermore, some are allowed only if they're not the first character of the identifier name.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Mathias Bynens has a great post (<a href="https://mathiasbynens.be/notes/javascript-identifiers-es6" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://mathiasbynens.be/notes/javascript-identifiers-es6</a>) on all the nitty-gritty details.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The reasons for using such unusual characters in identifier names are rather rare and academic. You typically won't be best served by writing code that relies on these esoteric capabilities.
#Number Literal Extensions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Number Literal Extensions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES5, number literals looked like the following -- the octal form was not officially specified, only allowed as an extension that browsers had come to de facto agreement on:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var dec <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42,
    oct <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">052,
    hex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x2a;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Though you are specifying a number in different bases, the number's mathematic value is what is stored, and the default output interpretation is always base-10. The three variables in the previous snippet all have the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">42```
&nbsp;value stored in them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To further illustrate that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">052```
&nbsp;was a nonstandard form extension, consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"42<span class="pl-pds" style="box-sizing: border-box;">" );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"052<span class="pl-pds" style="box-sizing: border-box;">" );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 52
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0x2a<span class="pl-pds" style="box-sizing: border-box;">" );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES5 continued to permit the browser-extended octal form (including such inconsistencies), except that in strict mode, the octal literal (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">052```
) form is disallowed. This restriction was done mainly because many developers had the habit (from other languages) of seemingly innocuously prefixing otherwise base-10 numbers with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
's for code alignment purposes, and then running into the accidental fact that they'd changed the number value entirely!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 continues the legacy of changes/variations to how number literals outside base-10 numbers can be represented. There's now an official octal form, an amended hexadecimal form, and a brand-new binary form. For web compatibility reasons, the old octal&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">052```
&nbsp;form will continue to be legal (though unspecified) in non-strict mode, but should really never be used anymore.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here are the new ES6 number literal forms:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var dec <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42,
    oct <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0o52,         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// or `0O52` :(
    hex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x2a,         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// or `0X2a` :/
    bin <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0b101010;     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// or `0B101010` :/</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The only decimal form allowed is base-10. Octal, hexadecimal, and binary are all integer forms.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And the string representations of these forms are all able to be coerced/converted to their number equivalent:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"42<span class="pl-pds" style="box-sizing: border-box;">" );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0o52<span class="pl-pds" style="box-sizing: border-box;">" );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0x2a<span class="pl-pds" style="box-sizing: border-box;">" );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0b101010<span class="pl-pds" style="box-sizing: border-box;">" );   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Though not strictly new to ES6, it's a little-known fact that you can actually go the opposite direction of conversion (well, sort of):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42;

a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString();           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "42" -- also `a.toString( 10 )`
a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">8 );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "52"
a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "2a"
a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "101010"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In fact, you can represent a number this way in any base from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">2```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">36```
, though it'd be rare that you'd go outside the standard bases: 2, 8, 10, and 16.
#regular expressions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Regular Expressions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's face it: regular expressions haven't changed much in JS in a long time. So it's a great thing that they've finally learned a couple of new tricks in ES6. We'll briefly cover the additions here, but the overall topic of regular expressions is so dense that you'll need to turn to chapters/books dedicated to it (of which there are many!) if you need a refresher.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-unicode-flag" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#unicode-flag" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Unicode Flag</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We'll cover the topic of Unicode in more detail in "Unicode" later in this chapter. Here, we'll just look briefly at the new<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;flag for ES6+ regular expressions, which turns on Unicode matching for that expression.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">JavaScript strings are typically interpreted as sequences of 16-bit characters, which correspond to the characters in the<em style="box-sizing: border-box;">Basic Multilingual Plane (BMP)</em>&nbsp;(<a href="http://en.wikipedia.org/wiki/Plane_%28Unicode%29" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://en.wikipedia.org/wiki/Plane_%28Unicode%29</a>). But there are many UTF-16 characters that fall outside this range, and so strings may have these multibyte characters in them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, regular expressions could only match based on BMP characters, which means that those extended characters were treated as two separate characters for matching purposes. This is often not ideal.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, as of ES6, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;flag tells a regular expression to process a string with the intepretation of Unicode (UTF-16) characters, such that such an extended character will be matched as a single entity.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Despite the name implication, "UTF-16" doesn't strictly mean 16 bits. Modern Unicode uses 21 bits, and standards like UTF-8 and UTF-16 refer roughly to how many bits are used in the representation of a character.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">An example (straight from the ES6 specification): 𝄞 (the musical symbol G-clef) is Unicode point U+1D11E (0x1D11E).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If this character appears in a regular expression pattern (like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/𝄞/```
), the standard BMP interpretation would be that it's two separate characters (0xD834 and 0xDD1E) to match with. But the new ES6 Unicode-aware mode means that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/𝄞/u```
(or the escaped Unicode form&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/\u{1D11E}/u```
) will match&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"𝄞"```
&nbsp;in a string as a single matched character.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You might be wondering why this matters? In non-Unicode BMP mode, the pattern is treated as two separate characters, but would still find the match in a string with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"𝄞"```
&nbsp;character in it, as you can see if you try:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">/𝄞<span class="pl-pds" style="box-sizing: border-box;">/.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞-clef<span class="pl-pds" style="box-sizing: border-box;">" );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The length of the match is what matters. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.-clef<span class="pl-pds" style="box-sizing: border-box;">/ .<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞-clef<span class="pl-pds" style="box-sizing: border-box;">" );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.-clef<span class="pl-pds" style="box-sizing: border-box;">/u.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞-clef<span class="pl-pds" style="box-sizing: border-box;">" );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^.-clef```
&nbsp;in the pattern says to match only a single character at the beginning before the normal&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"-clef"```
&nbsp;text. In standard BMP mode, the match fails (two characters), but with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;Unicode mode flagged on, the match succeeds (one character).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's also important to note that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;makes quantifiers like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">+```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">*```
&nbsp;apply to the entire Unicode code point as a single character, not just the&nbsp;<em style="box-sizing: border-box;">lower surrogate</em>&nbsp;(aka rightmost half of the symbol) of the character. The same goes for Unicode characters appearing in character classes, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/[💩-💫]/u```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;There's plenty more nitty-gritty details about&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;behavior in regular expressions, which Mathias Bynens (<a href="https://twitter.com/mathias" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://twitter.com/mathias</a>) has written extensively about (<a href="https://mathiasbynens.be/notes/es6-unicode-regex" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://mathiasbynens.be/notes/es6-unicode-regex</a>).<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-sticky-flag" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#sticky-flag" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Sticky Flag</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Another flag mode added to ES6 regular expressions is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
, which is often called "sticky mode."&nbsp;<em style="box-sizing: border-box;">Sticky</em>&nbsp;essentially means the regular expression has a virtual anchor at its beginning that keeps it rooted to matching at only the position indicated by the regular expression's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;property.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To illustrate, let's consider two regular expressions, the first without sticky mode and the second with:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/,
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"++foo++<span class="pl-pds" style="box-sizing: border-box;">";

re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- not updated

re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4;
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true -- ignored `lastIndex`
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 -- not updated</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Three things to observe about this snippet:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;doesn't pay any attention to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
's value, and always just performs its match from the beginning of the input string.</li><li style="box-sizing: border-box;">Because our pattern does not have a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;start-of-input anchor, the search for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"foo"```
&nbsp;is free to move ahead through the whole string looking for a match.</li><li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is not updated by&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, let's try a sticky mode regular expression:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/y,       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// <-- notice the `y` sticky flag
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"++foo++<span class="pl-pds" style="box-sizing: border-box;">";

re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false -- "foo" not found at `0`
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0

re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 5 -- updated to after previous match

re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- reset after previous match failure</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And so our new observations about sticky mode:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;uses&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;as the exact and only position in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">str```
&nbsp;to look to make a match. There is no moving ahead to look for the match -- it's either there at the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;position or not.</li><li style="box-sizing: border-box;">If a match is made,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;updates&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;to point to the character immediately following the match. If a match fails,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;resets&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;back to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Normal non-sticky patterns that aren't otherwise&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
-rooted to the start-of-input are free to move ahead in the input string looking for a match. But sticky mode restricts the pattern to matching just at the position of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As I suggested at the beginning of this section, another way of looking at this is that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;implies a virtual anchor at the beginning of the pattern that is relative (aka constrains the start of the match) to exactly the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;position.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;In previous literature on the topic, it has alternatively been asserted that this behavior is like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;implying a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
(start-of-input) anchor in the pattern. This is inaccurate. We'll explain in further detail in "Anchored Sticky" later.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-sticky-positioning" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#sticky-positioning" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Sticky Positioning</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It may seem strangely limiting that to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;for repeated matches, you have to manually ensure&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is in the exact right position, as it has no move-ahead capability for matching.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's one possible scenario: if you know that the match you care about is always going to be at a position that's a multiple of a number (e.g.,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">20```
, etc.), you can just construct a limited pattern matching what you care about, but then manually set&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;each time before match to those fixed positions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/f<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">..<span class="pl-pds" style="box-sizing: border-box;">/y,
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo       far       fad<span class="pl-pds" style="box-sizing: border-box;">";

str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["foo"]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10;
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["far"]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["fad"]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, if you're parsing a string that isn't formatted in fixed positions like that, figuring out what to set&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;to before each match is likely going to be untenable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a saving nuance to consider here.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;requires that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;be in the exact position for a match to occur. But it doesn't strictly require that&nbsp;<em style="box-sizing: border-box;">you</em>&nbsp;manually set&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Instead, you can construct your expressions in such a way that they capture in each main match everything before and after the thing you care about, up to right before the next thing you'll care to match.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;will set to the next character beyond the end of a match, if you've matched everything up to that point,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;will always be in the correct position for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;pattern to start from the next time.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;If you can't predict the structure of the input string in a sufficiently patterned way like that, this technique may not be suitable and you may not be able to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Having structured string input is likely the most practical scenario where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;will be capable of performing repeated matching throughout a string. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">\d<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+<span class="pl-cce" style="box-sizing: border-box; color: rgb(99, 163, 92); font-weight: bold;">\.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">\s(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*?)(?:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">\s<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">$)<span class="pl-pds" style="box-sizing: border-box;">/y
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"1. foo 2. bar 3. baz<span class="pl-pds" style="box-sizing: border-box;">";

str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "1. foo ", "foo" ]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 7 -- correct position!
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "2. bar ", "bar" ]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 14 -- correct position!
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["3. baz", "baz"]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This works because I knew something ahead of time about the structure of the input string: there is always a numeral prefix like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"1. "```
&nbsp;before the desired match (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"foo"```
, etc.), and either a space after it, or the end of the string (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">$```
&nbsp;anchor). So the regular expression I constructed captures all of that in each main match, and then I use a matching group&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( )```
so that the stuff I really care about is separated out for convenience.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">After the first match (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"1. foo "```
), the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">7```
, which is already the position needed to start the next match, for<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"2. bar "```
, and so on.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you're going to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;sticky mode for repeated matches, you'll probably want to look for opportunities to have<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;automatically positioned as we've just demonstrated.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-sticky-versus-global" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#sticky-versus-global" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Sticky Versus Global</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Some readers may be aware that you can emulate something like this&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
-relative matching with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;global match flag and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">exec(..)```
&nbsp;method, as so:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/o<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.<span class="pl-pds" style="box-sizing: border-box;">/g,        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// <-- look, `g`!
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foot book more<span class="pl-pds" style="box-sizing: border-box;">";

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["oot"]
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["ook"]
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 9

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["or"]
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 13

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// null -- no more matches!
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- starts over now!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While it's true that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;pattern matches with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">exec(..)```
&nbsp;start their matching from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
's current value, and also update&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;after each match (or failure), this is not the same thing as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
's behavior.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Notice in the previous snippet that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"ook"```
, located at position&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">6```
, was matched and found by the second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">exec(..)```
&nbsp;call, even though at the time,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;was&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">4```
&nbsp;(from the end of the previous match). Why? Because as we said earlier, non-sticky matches are free to move ahead in their matching. A sticky mode expression would have failed here, because it would not be allowed to move ahead.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In addition to perhaps undesired move-ahead matching behavior, another downside to just using&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;instead of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;is that<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;changes the behavior of some matching methods, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">str.match(re)```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/o<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.<span class="pl-pds" style="box-sizing: border-box;">/g,        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// <-- look, `g`!
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foot book more<span class="pl-pds" style="box-sizing: border-box;">";

str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["oot","ook","or"]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">See how all the matches were returned at once? Sometimes that's OK, but sometimes that's not what you want.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;sticky flag will give you one-at-a-time progressive matching with utilities like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">match(..)```
. Just make sure the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is always in the right position for each match!<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-anchored-sticky" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#anchored-sticky" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Anchored Sticky</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As we warned earlier, it's inaccurate to think of sticky mode as implying a pattern starts with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;anchor has a distinct meaning in regular expressions, which is&nbsp;<em style="box-sizing: border-box;">not altered</em>&nbsp;by sticky mode.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;is an anchor that&nbsp;<em style="box-sizing: border-box;">always</em>&nbsp;refers to the beginning of the input, and&nbsp;<em style="box-sizing: border-box;">is not</em>&nbsp;in any way relative to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Besides poor/inaccurate documentation on this topic, the confusion is unfortunately strengthened further because an older pre-ES6 experiment with sticky mode in Firefox&nbsp;<em style="box-sizing: border-box;">did</em>&nbsp;make&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;relative to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
, so that behavior has been around for years.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 elected not to do it that way.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;in a pattern means start-of-input absolutely and only.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As a consequence, a pattern like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/^foo/y```
&nbsp;will always and only find a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"foo"```
&nbsp;match at the beginning of a string,&nbsp;<em style="box-sizing: border-box;">if it's allowed to match there</em>. If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is not&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
, the match will fail. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^foo<span class="pl-pds" style="box-sizing: border-box;">/y,
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">";

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- reset after failure

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1;
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false -- failed for positioning
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- reset after failure</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Bottom line:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;plus&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;plus&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex > 0```
&nbsp;is an incompatible combination that will always cause a failed match.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;While&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;does not alter the meaning of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;in any way, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">m```
&nbsp;multiline mode&nbsp;<em style="box-sizing: border-box;">does</em>, such that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;means start-of-input&nbsp;<em style="box-sizing: border-box;">or</em>&nbsp;start of text after a newline. So, if you combine&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">m```
&nbsp;flags together for a pattern, you can find multiple&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
-rooted matches in a string. But remember: because it's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;sticky, you'll have to make sure&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is pointing at the correct new line position (likely by matching to the end of the line) each subsequent time, or no subsequent matches will be made.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-regular-expression-flags" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#regular-expression-flags" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Regular Expression&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">flags```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, if you wanted to examine a regular expression object to see what flags it had applied, you needed to parse them out -- ironically, probably with another regular expression -- from the content of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">source```
&nbsp;property, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/ig;

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString();          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "/foo/ig"

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var flags <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match(<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-cce" style="box-sizing: border-box; color: rgb(99, 163, 92); font-weight: bold;">\/(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">[gim]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">$<span class="pl-pds" style="box-sizing: border-box;">/ )[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1];

flags;                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ig"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As of ES6, you can now get these values directly, with the new&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">flags```
&nbsp;property:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/ig;

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "gi"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's a small nuance, but the ES6 specification calls for the expression's flags to be listed in this order:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"gimuy"```
, regardless of what order the original pattern was specified with. That's the reason for the difference between&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/ig```
&nbsp;and<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"gi"```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">No, the order of flags specified or listed doesn't matter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Another tweak from ES6 is that the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">RegExp(..)```
&nbsp;constructor is now&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">flags```
-aware if you pass it an existing regular expression:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*<span class="pl-pds" style="box-sizing: border-box;">/y;
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">source;                         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "foo*"
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "y"

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">new <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">RegExp( re1 );
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">source;                         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "foo*"
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "y"

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">new <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">RegExp( re1, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ig<span class="pl-pds" style="box-sizing: border-box;">" );
re3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">source;                         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "foo*"
re3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "gi"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">re3```
&nbsp;construction would throw an error, but as of ES6 you can override the flags when duplicating.
#Arrow Functions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Arrow Functions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We've touched on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding complications with functions earlier in this chapter, and they're covered at length in the<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series. It's important to understand the frustrations that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
-based programming with normal functions brings, because that is the primary motivation for the new ES6&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function feature.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's first illustrate what an arrow function looks like, as compared to normal functions:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y;
}

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// versus

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var foo <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The arrow function definition consists of a parameter list (of zero or more parameters, and surrounding&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( .. )```
&nbsp;if there's not exactly one parameter), followed by the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;marker, followed by a function body.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, in the previous snippet, the arrow function is just the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">(x,y) => x + y```
&nbsp;part, and that function reference happens to be assigned to the variable&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The body only needs to be enclosed by&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;if there's more than one expression, or if the body consists of a non-expression statement. If there's only one expression, and you omit the surrounding&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
, there's an implied&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
in front of the expression, as illustrated in the previous snippet.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's some other arrow function variations to consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var f1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= ()<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">12;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var f2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=> x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var f3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y;
    y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">++;
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3;
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ z) / <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Arrow functions are&nbsp;<em style="box-sizing: border-box;">always</em>&nbsp;function expressions; there is no arrow function declaration. It also should be clear that they are anonymous function expressions -- they have no named reference for the purposes of recursion or event binding/unbinding -- though "Function Names" in Chapter 7 will describe ES6's function name inference rules for debugging purposes.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;All the capabilities of normal function parameters are available to arrow functions, including default values, destructuring, rest parameters, and so on.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Arrow functions have a nice, shorter syntax, which makes them on the surface very attractive for writing terser code. Indeed, nearly all literature on ES6 (other than the titles in this series) seems to immediately and exclusively adopt the arrow function as "the new function."<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It is telling that nearly all examples in discussion of arrow functions are short single statement utilities, such as those passed as callbacks to various utilities. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5];

a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">map( v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=> v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [2,4,6,8,10]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In those cases, where you have such inline function expressions, and they fit the pattern of computing a quick calculation in a single statement and returning that result, arrow functions indeed look to be an attractive and lightweight alternative to the more verbose&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
&nbsp;keyword and syntax.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Most people tend to&nbsp;<em style="box-sizing: border-box;">ooh and aah</em>&nbsp;at nice terse examples like that, as I imagine you just did!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, I would caution you that it would seem to me somewhat a misapplication of this feature to use arrow function syntax with otherwise normal, multistatement functions, especially those that would otherwise be naturally expressed as function declarations.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">dollabillsyall(..)```
&nbsp;string literal tag function from earlier in this chapter -- let's change it to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;syntax:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var dollabillsyall <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> =>
    strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">reduce( (<span class="pl-smi" style="box-sizing: border-box;">s,<span class="pl-smi" style="box-sizing: border-box;">v,<span class="pl-smi" style="box-sizing: border-box;">idx)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">== <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"number<span class="pl-pds" style="box-sizing: border-box;">") {
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// look, also using interpolated
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// string literals!
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`$<span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toFixed( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 )<span class="pl-pse" style="box-sizing: border-box;">}<span class="pl-pds" style="box-sizing: border-box;">`;
            }
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">else {
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1];
            }
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ v;
    }, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this example, the only modifications I made were the removal of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
, and some&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
, and then the insertion of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;and a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var```
. Is this a significant improvement in the readability of the code? Meh.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">I'd actually argue that the lack of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;and outer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;partially obscures the fact that the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">reduce(..)```
&nbsp;call is the only statement in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">dollabillsyall(..)```
&nbsp;function and that its result is the intended result of the call. Also, the trained eye that is so used to hunting for the word&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
&nbsp;in code to find scope boundaries now needs to look for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
marker, which can definitely be harder to find in the thick of the code.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While not a hard-and-fast rule, I'd say that the readability gains from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function conversion are inversely proportional to the length of the function being converted. The longer the function, the less&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;helps; the shorter the function, the more&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;can shine.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">I think it's probably more sensible and reasonable to adopt&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;for the places in code where you do need short inline function expressions, but leave your normal-length main functions as is.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-not-just-shorter-syntax-but-this" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#not-just-shorter-syntax-but-this" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Not Just Shorter Syntax, But&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Most of the popular attention toward&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;has been on saving those precious keystrokes by dropping&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;from your code.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But there's a big detail we've skipped over so far. I said at the beginning of the section that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;functions are closely related to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding behavior. In fact,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions are&nbsp;<em style="box-sizing: border-box;">primarily designed</em>&nbsp;to alter&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;behavior in a specific way, solving a particular and common pain point with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
-aware coding.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The saving of keystrokes is a red herring, a misleading sideshow at best.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's revisit another example from earlier in this chapter:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var self <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this;

        btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
            self.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
        }, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We used the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;hack, and then referenced&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">self.makeRequest(..)```
, because inside the callback function we're passing to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">addEventListener(..)```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding will not be the same as it is in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">makeRequest(..)```
&nbsp;itself. In other words, because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;bindings are dynamic, we fall back to the predictability of lexical scope via the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">self```
&nbsp;variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Herein we finally can see the primary design characteristic of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions. Inside arrow functions, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
binding is not dynamic, but is instead lexical. In the previous snippet, if we used an arrow function for the callback,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;will be predictably what we wanted it to be.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", ()<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
            <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
        }, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;in the arrow function callback in the previous snippet now points to the same value as in the enclosing<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">makeRequest(..)```
&nbsp;function. In other words,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is a syntactic stand-in for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In cases where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;(or, alternatively, a function&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.bind(this)```
&nbsp;call) would normally be helpful,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions are a nicer alternative operating on the same prinicple. Sounds great, right?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Not quite so simple.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;replaces&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.bind(this)```
&nbsp;and it helps, guess what happens if you use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;with a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
-aware function that&nbsp;<em style="box-sizing: border-box;">doesn't</em>&nbsp;need&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;to work? You might be able to guess that it's going to mess things up. Yeah.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: (..)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
        <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">helper(..);
    },
    helper<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: (..)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
};

controller.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Although we invoke as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller.makeRequest(..)```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this.helper```
&nbsp;reference fails, because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;here doesn't point to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller```
&nbsp;as it normally would. Where does it point? It lexically inherits&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;from the surrounding scope. In this previous snippet, that's the global scope, where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;points to the global object. Ugh.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In addition to lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
, arrow functions also have lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
&nbsp;-- they don't have their own&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
&nbsp;array but instead inherit from their parent -- as well as lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">new.target```
&nbsp;(see "Classes" in Chapter 3).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So now we can conclude a more nuanced set of rules for when&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is appropriate and not:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;">If you have a short, single-statement inline function expression, where the only statement is a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;of some computed value,&nbsp;<em style="box-sizing: border-box;">and</em>&nbsp;that function doesn't already make a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;reference inside it,&nbsp;<em style="box-sizing: border-box;">and</em>&nbsp;there's no self-reference (recursion, event binding/unbinding),&nbsp;<em style="box-sizing: border-box;">and</em>&nbsp;you don't reasonably expect the function to ever be that way, you can probably safely refactor it to be an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function.</li><li style="box-sizing: border-box;">If you have an inner function expression that's relying on a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;hack or a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.bind(this)```
&nbsp;call on it in the enclosing function to ensure proper&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding, that inner function expression can probably safely become an<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function.</li><li style="box-sizing: border-box;">If you have an inner function expression that's relying on something like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var args = Array.prototype.slice.call(arguments)```
&nbsp;in the enclosing function to make a lexical copy of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
, that inner function expression can probably safely become an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function.</li><li style="box-sizing: border-box;">For everything else -- normal function declarations, longer multistatment function expressions, functions that need a lexical name identifier self-reference (recursion, etc.), and any other function that doesn't fit the previous characteristics -- you should probably avoid&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;function syntax.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Bottom line:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is about lexical binding of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
. These are intentional features designed to fix some common problems, not bugs, quirks, or mistakes in ES6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Don't believe any hype that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is primarily, or even mostly, about fewer keystrokes. Whether you save keystrokes or waste them, you should know exactly what you are intentionally doing with every character typed.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Tip:</strong>&nbsp;If you have a function that for any of these articulated reasons is not a good match for an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function, but it's being declared as part of an object literal, recall from "Concise Methods" earlier in this chapter that there's another option for shorter function syntax.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you prefer a visual decision chart for how/why to pick an arrow function:<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/fig1.png" target="_blank" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;"><img src="https://github.com/getify/You-Dont-Know-JS/raw/master/es6%20&amp;%20beyond/fig1.png" style="box-sizing: border-box;"></a><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-forof-loops" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#forof-loops" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1; background-color: transparent;"></a><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;Loops</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Joining the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;loops from the JavaScript we're all familiar with, ES6 adds a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loop, which loops over the set of values produced by an&nbsp;<em style="box-sizing: border-box;">iterator</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The value you loop over with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;must be an&nbsp;<em style="box-sizing: border-box;">iterable</em>, or it must be a value which can be coerced/boxed to an object (see the&nbsp;<em style="box-sizing: border-box;">Types &amp; Grammar</em>&nbsp;title of this series) that is an iterable. An iterable is simply an object that is able to produce an iterator, which the loop then uses.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's compare&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;to illustrate the difference:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"a<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"c<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"d<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-pds" style="box-sizing: border-box;">"];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">in a) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( idx );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 1 2 3 4

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var val <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of a) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( val );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "a" "b" "c" "d" "e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;loops over the keys/indexes in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;array, while&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loops over the values in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's the pre-ES6 version of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;from that previous snippet:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"a<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"c<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"d<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-pds" style="box-sizing: border-box;">"],
    k <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">keys( a );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var val, i <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0; i <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">< k.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length; i<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">++) {
    val <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a[ k[i] ];
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( val );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "a" "b" "c" "d" "e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And here's the ES6 but non-<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;equivalent, which also gives a glimpse at manually iterating an iterator (see "Iterators" in Chapter 3):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"a<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"c<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"d<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-pds" style="box-sizing: border-box;">"];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var val, ret, it <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a[Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">iterator]();
    (ret <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= it.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">next()) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">&amp;&amp; <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!ret.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">done;
) {
    val <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= ret.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">value;
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( val );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "a" "b" "c" "d" "e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Under the covers, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loop asks the iterable for an iterator (using the built-in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.iterator```
; see "Well-Known Symbols" in Chapter 7), then it repeatedly calls the iterator and assigns its produced value to the loop iteration variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Standard built-in values in JavaScript that are by default iterables (or provide them) include:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;">Arrays</li><li style="box-sizing: border-box;">Strings</li><li style="box-sizing: border-box;">Generators (see Chapter 3)</li><li style="box-sizing: border-box;">Collections / TypedArrays (see Chapter 5)</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Plain objects are not by default suitable for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;looping. That's because they don't have a default iterator, which is intentional, not a mistake. However, we won't go any further into those nuanced reasonings here. In "Iterators" in Chapter 3, we'll see how to define iterators for our own objects, which lets&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loop over any object to get a set of values we define.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's how to loop over the characters in a primitive string:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var c <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"hello<span class="pl-pds" style="box-sizing: border-box;">") {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( c );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "h" "e" "l" "l" "o"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"hello"```
&nbsp;primitive string value is coerced/boxed to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String```
&nbsp;object wrapper equivalent, which is an iterable by default.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for (XYZ of ABC)..```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">XYZ```
&nbsp;clause can either be an assignment expression or a declaration, identical to that same clause in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;loops. So you can do stuff like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3]) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for ({x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of [ {x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1}, {x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2}, {x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3} ]) {
  <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loops can be prematurely stopped, just like other loops, with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">break```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">continue```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;(if in a function), and thrown exceptions. In any of these cases, the iterator's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return(..)```
&nbsp;function is automatically called (if one exists) to let the iterator perform cleanup tasks, if necessary.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;See "Iterators" in Chapter 3 for more complete coverage on iterables and iterators.
#Template Literals
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Template Literals</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">At the very outset of this section, I'm going to have to call out the name of this ES6 feature as being awfully... misleading, depending on your experiences with what the word&nbsp;<em style="box-sizing: border-box;">template</em>&nbsp;means.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Many developers think of templates as being reusable renderable pieces of text, such as the capability provided by most template engines (Mustache, Handlebars, etc.). ES6's use of the word&nbsp;<em style="box-sizing: border-box;">template</em>&nbsp;would imply something similar, like a way to declare inline template literals that can be re-rendered. However, that's not at all the right way to think about this feature.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, before we go on, I'm renaming to what it should have been called:&nbsp;<em style="box-sizing: border-box;">interpolated string literals</em>&nbsp;(or&nbsp;<em style="box-sizing: border-box;">interpoliterals</em>&nbsp;for short).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You're already well aware of declaring string literals with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">'```
&nbsp;delimiters, and you also know that these are not&nbsp;<em style="box-sizing: border-box;">smart strings</em>&nbsp;(as some languages have), where the contents would be parsed for interpolation expressions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, ES6 introduces a new type of string literal, using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">````
&nbsp;backtick as the delimiter. These string literals allow basic string interpolation expressions to be embedded, which are then automatically parsed and evaluated.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's the old pre-ES6 way:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Kyle<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var greeting <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Hello <span class="pl-pds" style="box-sizing: border-box;">" <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"!<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( greeting );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Hello Kyle!"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof greeting );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "string"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, consider the new ES6 way:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Kyle<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var greeting <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${name<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( greeting );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Hello Kyle!"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof greeting );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "string"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, we used the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;around a series of characters, which are interpreted as a string literal, but any expressions of the form&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">${..}```
&nbsp;are parsed and evaluated inline immediately. The fancy term for such parsing and evaluating is&nbsp;<em style="box-sizing: border-box;">interpolation</em>&nbsp;(much more accurate than templating).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The result of the interpolated string literal expression is just a plain old normal string, assigned to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">greeting```
&nbsp;variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">typeof greeting == "string"```
&nbsp;illustrates why it's important not to think of these entities as special template values, as you cannot assign the unevaluated form of the literal to something and reuse it. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;string literal is more like an IIFE in the sense that it's automatically evaluated inline. The result of a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;string literal is, simply, just a string.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">One really nice benefit of interpolated string literals is they are allowed to split across multiple lines:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Now is the time for all good men
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">to come to the aid of their
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">country!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Now is the time for all good men
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to come to the aid of their
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// country!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The line breaks (newlines) in the interpolated string literal were preserved in the string value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unless appearing as explicit escape sequences in the literal value, the value of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\r```
&nbsp;carriage return character (code point&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000D```
) or the value of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\r\n```
&nbsp;carriage return + line feed sequence (code points&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000D```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000A```
) are both normalized to a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\n```
&nbsp;line feed character (code point&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000A```
). Don't worry though; this normalization is rare and would likely only happen if copy-pasting text into your JS file.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-interpolated-expressions" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#interpolated-expressions" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Interpolated Expressions</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Any valid expression is allowed to appear inside&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">${..}```
&nbsp;in an interpolated string literal, including function calls, inline function expression calls, and even other interpolated string literals!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">upper(<span class="pl-smi" style="box-sizing: border-box;">s) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toUpperCase();
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var who <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"reader<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`A very <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">upper( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"warm<span class="pl-pds" style="box-sizing: border-box;">" )<span class="pl-pse" style="box-sizing: border-box;">} welcome
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">to all of you <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">upper( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`<span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${who<span class="pl-pse" style="box-sizing: border-box;">}s<span class="pl-pds" style="box-sizing: border-box;">` )<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// A very WARM welcome
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to all of you READERS!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here, the inner&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`${who}s````
&nbsp;interpolated string literal was a little bit nicer convenience for us when combining the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">who```
variable with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"s"```
&nbsp;string, as opposed to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">who + "s"```
. There will be cases that nesting interpolated string literals is helpful, but be wary if you find yourself doing that kind of thing often, or if you find yourself nesting several levels deep.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If that's the case, the odds are good that your string value production could benefit from some abstractions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;As a word of caution, be very careful about the readability of your code with such new found power. Just like with default value expressions and destructuring assignment expressions, just because you&nbsp;<em style="box-sizing: border-box;">can</em>&nbsp;do something doesn't mean you&nbsp;<em style="box-sizing: border-box;">should</em>&nbsp;do it. Never go so overboard with new ES6 tricks that your code becomes more clever than you or your other team members.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-expression-scope" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#expression-scope" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Expression Scope</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">One quick note about the scope that is used to resolve variables in expressions. I mentioned earlier that an interpolated string literal is kind of like an IIFE, and it turns out thinking about it like that explains the scoping behavior as well.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">str) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">";
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( str );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">";
    <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello from <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${name<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">` );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"global<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Hello from bar!"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">At the moment the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;string literal is expressed, inside the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
&nbsp;function, the scope available to it finds&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
's<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;variable with value&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"bar"```
. Neither the global&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;nor&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;matter. In other words, an interpolated string literal is just lexically scoped where it appears, not dynamically scoped in any way.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-tagged-template-literals" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#tagged-template-literals" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Tagged Template Literals</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Again, renaming the feature for sanity sake:&nbsp;<em style="box-sizing: border-box;">tagged string literals</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To be honest, this is one of the cooler tricks that ES6 offers. It may seem a little strange, and perhaps not all that generally practical at first. But once you've spent some time with it, tagged string literals may just surprise you in their usefulness.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings );
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( values );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"awesome<span class="pl-pds" style="box-sizing: border-box;">";

foo<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Everything is <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${desc<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Everything is ", "!"]
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "awesome" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's take a moment to consider what's happening in the previous snippet. First, the most jarring thing that jumps out is<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo`Everything...`;```
. That doesn't look like anything we've seen before. What is it?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's essentially a special kind of function call that doesn't need the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( .. )```
. The&nbsp;<em style="box-sizing: border-box;">tag</em>&nbsp;-- the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo```
&nbsp;part before the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
string literal -- is a function value that should be called. Actually, it can be any expression that results in a function, even a function call that returns another function, like:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings );
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( values );
    }
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"awesome<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar()<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Everything is <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${desc<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Everything is ", "!"]
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "awesome" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But what gets passed to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;function when invoked as a tag for a string literal?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The first argument -- we called it&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;-- is an array of all the plain strings (the stuff between any interpolated expressions). We get two values in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;array:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"Everything is "```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"!"```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For convenience sake in our example, we then gather up all subsequent arguments into an array called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;gather/rest operator (see the "Spread/Rest" section earlier in this chapter), though you could of course have left them as individual named parameters following the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;parameter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The argument(s) gathered into our&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;array are the results of the already-evaluated interpolation expressions found in the string literal. So obviously the only element in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;in our example is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"awesome"```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can think of these two arrays as: the values in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;are the separators if you were to splice them in between the values in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
, and then if you joined everything together, you'd get the complete interpolated string value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">A tagged string literal is like a processing step after the interpolation expressions are evaluated but before the final string value is compiled, allowing you more control over generating the string from the literal.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Typically, the string literal tag function (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;in the previous snippets) should compute an appropriate string value and return it, so that you can use the tagged string literal as a value just like untagged string literals:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">tag(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">reduce( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">s,<span class="pl-smi" style="box-sizing: border-box;">v,<span class="pl-smi" style="box-sizing: border-box;">idx){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ (idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">") <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ v;
    }, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">" );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"awesome<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tag<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Everything is <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${desc<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Everything is awesome!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this snippet,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tag(..)```
&nbsp;is a pass-through operation, in that it doesn't perform any special modifications, but just uses<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">reduce(..)```
&nbsp;to loop over and splice/interleave&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;together the same way an untagged string literal would have done.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So what are some practical uses? There are many advanced ones that are beyond our scope to discuss here. But here's a simple idea that formats numbers as U.S. dollars (sort of like basic localization):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">dollabillsyall(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">reduce( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">s,<span class="pl-smi" style="box-sizing: border-box;">v,<span class="pl-smi" style="box-sizing: border-box;">idx){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">== <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"number<span class="pl-pds" style="box-sizing: border-box;">") {
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// look, also using interpolated
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// string literals!
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`$<span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toFixed( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 )<span class="pl-pse" style="box-sizing: border-box;">}<span class="pl-pds" style="box-sizing: border-box;">`;
            }
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">else {
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1];
            }
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ v;
    }, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">" );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var amt1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11.99,
    amt2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= amt1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1.08,
    name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Kyle<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= dollabillsyall
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Thanks for your purchase, <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${name<span class="pl-pse" style="box-sizing: border-box;">}! Your
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">product cost was <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${amt1<span class="pl-pse" style="box-sizing: border-box;">}, which with tax
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">comes out to <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${amt2<span class="pl-pse" style="box-sizing: border-box;">}.<span class="pl-pds" style="box-sizing: border-box;">`

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Thanks for your purchase, Kyle! Your
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// product cost was $11.99, which with tax
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// comes out to $12.95.</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">number```
&nbsp;value is encountered in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;array, we put&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"$"```
&nbsp;in front of it and format it to two decimal places with<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toFixed(2)```
. Otherwise, we let the value pass-through untouched.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-raw-strings" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#raw-strings" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Raw Strings</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the previous snippets, our tag functions receive the first argument we called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
, which is an array. But there's an additional bit of data included: the raw unprocessed versions of all the strings. You can access those raw string values using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.raw```
&nbsp;property, like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">showraw(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings );
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">raw );
}

showraw<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">`;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Hello
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// World" ]
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Hello\nWorld" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The raw version of the value preserves the raw escaped&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\n```
&nbsp;sequence (the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\```
&nbsp;and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">n```
&nbsp;are separate characters), while the processed version considers it a single newline character. However, the earlier mentioned line-ending normalization is applied to both values.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 comes with a built-in function that can be used as a string literal tag:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.raw(..)```
. It simply passes through the raw versions of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;values:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">` );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Hello
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// World

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">raw<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">` );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Hello\nWorld

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">raw<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">`.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 12</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Other uses for string literal tags included special processing for internationalization, localization, and more!
#Object Literal Extensions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Object Literal Extensions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 adds a number of important convenience extensions to the humble&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;object literal.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-concise-properties" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#concise-properties" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Concise Properties</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You're certainly familiar with declaring object literals in this form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,
    o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x,
        y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y
    };</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If it's always felt redundant to say&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: x```
&nbsp;all over, there's good news. If you need to define a property that is the same name as a lexical identifier, you can shorten it from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: x```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,
    o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        x,
        y
    };</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-concise-methods" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#concise-methods" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Concise Methods</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In a similar spirit to concise properties we just examined, functions attached to properties in object literals also have a concise form, for convenience.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The old way:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    },
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And as of ES6:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">x() {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    },
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">y() {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;While&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x() { .. }```
&nbsp;seems to just be shorthand for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: function(){ .. }```
, concise methods have special behaviors that their older counterparts don't; specifically, the allowance for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;(see "Object&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
" later in this chapter).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Generators (see Chapter 4) also have a concise method form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() { .. }
};</pre><h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-concisely-unnamed" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#concisely-unnamed" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Concisely Unnamed</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While that convenience shorthand is quite attractive, there's a subtle gotcha to be aware of. To illustrate, let's examine pre-ES6 code like the following, which you might try to refactor to use concise methods:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">runSomething(<span class="pl-smi" style="box-sizing: border-box;">o) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Math.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">random(),
        y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Math.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">random();

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> y) {
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// recursively call with `x`
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// and `y` swapped
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( y, x );
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">- x;
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This obviously silly code just generates two random numbers and subtracts the smaller from the bigger. But what's important here isn't what it does, but rather how it's defined. Let's focus on the object literal and function definition, as we see here:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Why do we say both&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something:```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function something```
? Isn't that redundant? Actually, no, both are needed for different purposes. The property&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;is how we can call&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o.something(..)```
, sort of like its public name. But the second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;is a lexical name to refer to the function from inside itself, for recursion purposes.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Can you see why the line&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return something(y,x)```
&nbsp;needs the name&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;to refer to the function? There's no lexical name for the object, such that it could have said&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return o.something(y,x)```
&nbsp;or something of that sort.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That's actually a pretty common practice when the object literal does have an identifying name, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
        controller.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Is this a good idea? Perhaps, perhaps not. You're assuming that the name&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller```
&nbsp;will always point to the object in question. But it very well may not -- the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">makeRequest(..)```
&nbsp;function doesn't control the outer code and so can't force that to be the case. This could come back to bite you.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Others prefer to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;to define such things:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
        <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That looks fine, and should work if you always invoke the method as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller.makeRequest(..)```
. But you now have a<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding gotcha if you do something like:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", controller.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, you can solve that by passing&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller.makeRequest.bind(controller)```
&nbsp;as the handler reference to bind the event to. But yuck -- it isn't very appealing.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or what if your inner&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this.makeRequest(..)```
&nbsp;call needs to be made from a nested function? You'll have another&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
binding hazard, which people will often solve with the hacky&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var self <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this;

        btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
            self.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
        }, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">More yuck.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;For more information on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding rules and gotchas, see Chapters 1-2 of the&nbsp;<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">OK, what does all this have to do with concise methods? Recall our&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something(..)```
&nbsp;method definition:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;here provides a super convenient lexical identifier that will always point to the function itself, giving us the perfect reference for recursion, event binding/unbinding, and so on -- no messing around with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;or trying to use an untrustable object reference.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Great!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, now we try to refactor that function reference to this ES6 concise method form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> y) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( y, x );
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">- x;
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Seems fine at first glance, except this code will break. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return something(..)```
&nbsp;call will not find a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
identifier, so you'll get a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">ReferenceError```
. Oops. But why?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The above ES6 snippet is interpreted as meaning:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> y) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( y, x );
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">- x;
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Look closely. Do you see the problem? The concise method definition implies&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something: function(x,y)```
. See how the second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;we were relying on has been omitted? In other words, concise methods imply anonymous function expressions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Yeah, yuck.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;You may be tempted to think that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions are a good solution here, but they're equally insufficient, as they're also anonymous function expressions. We'll cover them in "Arrow Functions" later in this chapter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The partially redeeming news is that our&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something(x,y)```
&nbsp;concise method won't be totally anonymous. See "Function Names" in Chapter 7 for information about ES6 function name inference rules. That won't help us for our recursion, but it helps with debugging at least.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So what are we left to conclude about concise methods? They're short and sweet, and a nice convenience. But you should only use them if you're never going to need them to do recursion or event binding/unbinding. Otherwise, stick to your old-school&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something: function something(..)```
&nbsp;method definitions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">A lot of your methods are probably going to benefit from concise method definitions, so that's great news! Just be careful of the few where there's an un-naming hazard.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-es5-gettersetter" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#es5-gettersetter" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>ES5 Getter/Setter</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Technically, ES5 defined getter/setter literals forms, but they didn't seem to get used much, mostly due to the lack of transpilers to handle that new syntax (the only major new syntax added in ES5, really). So while it's not a new ES6 feature, we'll briefly refresh on that form, as it's probably going to be much more useful with ES6 going forward.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    __id<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10,
    get <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">id() { <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">++; },
    set <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">id(<span class="pl-smi" style="box-sizing: border-box;">v) { <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= v; }
}

o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 11
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 20

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// and:
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id;         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 21
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id;         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 21 -- still!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">These getter and setter literal forms are also present in classes; see Chapter 3.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;It may not be obvious, but the setter literal must have exactly one declared parameter; omitting it or listing others is illegal syntax. The single required parameter&nbsp;<em style="box-sizing: border-box;">can</em>&nbsp;use destructuring and defaults (e.g.,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">set id({ id: v = 0 }) { .. }```
), but the gather/rest&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is not allowed (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">set id(...v) { .. }```
).<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-computed-property-names" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#computed-property-names" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Computed Property Names</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You've probably been in a situation like the following snippet, where you have one or more property names that come from some sort of expression and thus can't be put into the object literal:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"user_<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">baz<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. }
};

o[ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">" ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. };
o[ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">" ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. };
..</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 adds a syntax to the object literal definition which allows you to specify an expression that should be computed, whose result is the property name assigned. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"user_<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">baz<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. },
    [ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">" ]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. },
    [ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">" ]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. }
    ..
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Any valid expression can appear inside the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
&nbsp;that sits in the property name position of the object literal definition.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Probably the most common use of computed property names will be with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol```
s (which we cover in "Symbols" later in this chapter), such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    [Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toStringTag]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"really cool thing<span class="pl-pds" style="box-sizing: border-box;">",
    ..
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.toStringTag```
&nbsp;is a special built-in value, which we evaluate with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
&nbsp;syntax, so we can assign the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"really cool thing"```
&nbsp;value to the special property name.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Computed property names can also appear as the name of a concise method or a concise generator:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"f<span class="pl-pds" style="box-sizing: border-box;">" <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"oo<span class="pl-pds" style="box-sizing: border-box;">"]() { .. }   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// computed concise method
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*[<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">" <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ar<span class="pl-pds" style="box-sizing: border-box;">"]() { .. }  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// computed concise generator
};</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-setting-prototype" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#setting-prototype" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Setting&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We won't cover prototypes in detail here, so for more information, see the&nbsp;<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Sometimes it will be helpful to assign the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
&nbsp;of an object at the same time you're declaring its object literal. The following has been a nonstandard extension in many JS engines for a while, but is standardized as of ES6:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    __proto__<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o1,
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
&nbsp;is declared with a normal object literal, but it's also&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
-linked to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1```
. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__proto__```
&nbsp;property name here can also be a string&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"__proto__"```
, but note that it&nbsp;<em style="box-sizing: border-box;">cannot</em>&nbsp;be the result of a computed property name (see the previous section).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__proto__```
&nbsp;is controversial, to say the least. It's a decades-old proprietary extension to JS that is finally standardized, somewhat begrudgingly it seems, in ES6. Many developers feel it shouldn't ever be used. In fact, it's in "Annex B" of ES6, which is the section that lists things JS feels it has to standardize for compatibility reasons only.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Though I'm narrowly endorsing&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__proto__```
&nbsp;as a key in an object literal definition, I definitely do not endorse using it in its object property form, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o.__proto__```
. That form is both a getter and setter (again for compatibility reasons), but there are definitely better options. See the&nbsp;<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series for more information.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For setting the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
&nbsp;of an existing object, you can use the ES6 utility&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.setPrototypeOf(..)```
. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">setPrototypeOf( o2, o1 );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;We'll discuss&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object```
&nbsp;again in Chapter 6. "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.setPrototypeOf(..)```
&nbsp;Static Function" provides additional details on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.setPrototypeOf(..)```
. Also see "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;Static Function" for another form that relates&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
prototypically to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1```
.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-object-super" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#object-super" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Object&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;is typically thought of as being only related to classes. However, due to JS's classless-objects-with-prototypes nature,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;is equally effective, and nearly the same in behavior, with plain objects' concise methods.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() {
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"o1:foo<span class="pl-pds" style="box-sizing: border-box;">" );
    }
};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() {
        <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">super.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"o2:foo<span class="pl-pds" style="box-sizing: border-box;">" );
    }
};

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">setPrototypeOf( o2, o1 );

o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// o1:foo
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// o2:foo</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;is only allowed in concise methods, not regular function expression properties. It also is only allowed in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super.XXX```
&nbsp;form (for property/method access), not in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super()```
&nbsp;form.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;reference in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2.foo()```
&nbsp;method is locked statically to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
, and specifically to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
&nbsp;of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
.<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;here would basically be&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.getPrototypeOf(o2)```
&nbsp;-- resolves to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1```
&nbsp;of course -- which is how it finds and calls<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1.foo()```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For complete details on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
, see "Classes" in Chapter 3.
#Destructuring
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Destructuring</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 introduces a new syntactic feature called&nbsp;<em style="box-sizing: border-box;">destructuring</em>, which may be a little less confusing if you instead think of it as&nbsp;<em style="box-sizing: border-box;">structured assignment</em>. To understand this meaning, consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var tmp <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo(),
    a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0], b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1], c <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, we created a manual assignment of the values in the array that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo()```
&nbsp;returns to individual variables&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">b```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">c```
, and to do so we (unfortunately) needed the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp```
&nbsp;variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similarly, we can do the following with objects:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return {
        x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4,
        y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5,
        z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6
    };
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var tmp <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar(),
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp.x```
&nbsp;property value is assigned to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;variable, and likewise for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp.y```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp.z```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Manually assigning indexed values from an array or properties from an object can be thought of as&nbsp;<em style="box-sizing: border-box;">structured assignment</em>. ES6 adds a dedicated syntax for&nbsp;<em style="box-sizing: border-box;">destructuring</em>, specifically&nbsp;<em style="box-sizing: border-box;">array destructuring</em>&nbsp;and&nbsp;<em style="box-sizing: border-box;">object destructuring</em>. This syntax eliminates the need for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp```
&nbsp;variable in the previous snippets, making them much cleaner. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ a, b, c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You're likely more accustomed to seeing syntax like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[a,b,c]```
&nbsp;on the righthand side of an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;assignment, as the value being assigned.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Destructuring symmetrically flips that pattern, so that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[a,b,c]```
&nbsp;on the lefthand side of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;assignment is treated as a kind of "pattern" for decomposing the righthand side array value into separate variable assignments.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similarly,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: x, y: y, z: z }```
&nbsp;specifies a "pattern" to decompose the object value from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
&nbsp;into separate variable assignments.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-object-property-assignment-pattern" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#object-property-assignment-pattern" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Object Property Assignment Pattern</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's dig into that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: x, .. }```
&nbsp;syntax from the previous snippet. If the property name being matched is the same as the variable you want to declare, you can actually shorten the syntax:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x, y, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Pretty cool, right?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x, .. }```
&nbsp;leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;part or leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">: x```
&nbsp;part? We're actually leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;part when we use the shorter syntax. That may not seem like an important detail, but you'll understand its importance in just a moment.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you can write the shorter form, why would you ever write out the longer form? Because that longer form actually allows you to assign a property to a different variable name, which can sometimes be quite useful:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bam, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: baz, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bap } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( bam, baz, bap );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ReferenceError</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a subtle but super-important quirk to understand about this variation of the object destructuring form. To illustrate why it can be a gotcha you need to be careful of, let's consider the "pattern" of how normal object literals are specified:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var X <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, Y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y };

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ a: X, b: Y }```
, we know that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;is the object property, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">X```
&nbsp;is the source value that gets assigned to it. In other words, the syntactic pattern is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target: source```
, or more obviously,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">property-alias: value```
. We intuitively understand this because it's the same as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;assignment, where the pattern is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target = source```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, when you use object destructuring assignment -- that is, putting the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;object literal-looking syntax on the lefthand side of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;operator -- you invert that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target: source```
&nbsp;pattern.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bam, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: baz, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bap } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The syntactic pattern here is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">source: target```
&nbsp;(or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">value: variable-alias```
).&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: bam```
&nbsp;means the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;property is the source value and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bam```
&nbsp;is the target variable to assign to. In other words, object literals are&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target <-- source```
, and object destructuring assignments are&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">source --> target```
. See how that's flipped?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's another way to think about this syntax though, which may help ease the confusion. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var aa <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, bb <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: aa, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bb };
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var     { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">AA, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">BB } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">AA, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">BB );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: aa, y: bb }```
&nbsp;line, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;represent the object properties. In the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: AA, y: BB }```
&nbsp;line, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;and the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;<em style="box-sizing: border-box;">also</em>&nbsp;represent the object properties.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall how earlier I asserted that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x, .. }```
&nbsp;was leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;part? In those two lines, if you erase the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;and<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y:```
&nbsp;parts in that snippet, you're left only with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">aa, bb```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">AA, BB```
, which in effect -- only conceptually, not actually -- are assignments from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">aa```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">AA```
&nbsp;and from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bb```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">BB```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, that symmetry may help to explain why the syntactic pattern was intentionally flipped for this ES6 feature.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;I would have preferred the syntax to be&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ AA: x , BB: y }```
&nbsp;for the destructuring assignment, as that would have preserved consistency of the more familiar&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target: source```
&nbsp;pattern for both usages. Alas, I'm having to train my brain for the inversion, as some readers may also have to do.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-not-just-declarations" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#not-just-declarations" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Not Just Declarations</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So far, we've used destructuring assignment with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var```
&nbsp;declarations (of course, they could also use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">const```
), but destructuring is a general assignment operation, not just a declaration.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a, b, c, x, y, z;

[a,b,c] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
( { x, y, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar() );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The variables can already be declared, and then the destructuring only does assignments, exactly as we've already seen.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;For the object destructuring form specifically, when leaving off a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var```
/<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
/<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">const```
&nbsp;declarator, we had to surround the whole assignment expression in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( )```
, because otherwise the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;on the lefthand side as the first element in the statement is taken to be a block statement instead of an object.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In fact, the assignment expressions (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
, etc.) don't actually need to be just variable identifiers. Anything that's a valid assignment expression is allowed. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

[o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
( { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar() );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can even use computed property expressions in the destructuring. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var which <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"x<span class="pl-pds" style="box-sizing: border-box;">",
    o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

( { [which]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o[which] } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar() );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[which]:```
&nbsp;part is the computed property, which results in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;-- the property to destructure from the object in question as the source of the assignment. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o[which]```
&nbsp;part is just a normal object key reference, which equates to<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o.x```
&nbsp;as the target of the assignment.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can use the general assignments to create object mappings/transformations, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

( { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or you can map an object to an array, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    a2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [];

( { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0], b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1], c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2] } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a2 );                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or the other way around:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 ],
    o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

[ o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a1;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or you could reorder one array to another:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 ],
    a2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [];

[ a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2], a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0], a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a1;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a2 );                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [2,3,1]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can even solve the traditional "swap two variables" task without a temporary variable:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;

[ y, x ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ x, y ];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 20 10</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Be careful: you shouldn't mix in declaration with assignment unless you want all of the assignment expressions&nbsp;<em style="box-sizing: border-box;">also</em>&nbsp;to be treated as declarations. Otherwise, you'll get syntax errors. That's why in the earlier example I had to do&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var a2 = []```
&nbsp;separately from the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ a2[0], .. ] = ..```
&nbsp;destructuring assignment. It wouldn't make any sense to try&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var [ a2[0], .. ] = ..```
, because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a2[0]```
&nbsp;isn't a valid declaration identifier; it also obviously couldn't implicitly create a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var a2 = []```
&nbsp;declaration to use.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-repeated-assignments" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#repeated-assignments" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Repeated Assignments</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The object destructuring form allows a source property (holding any value type) to be listed multiple times. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 };

X;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
Y;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That also means you can both destructure a sub-object/array property and also capture the sub-object/array's value itself. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y }, a } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 } };

X;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
Y;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
a;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// { x: 1 }

( { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y, a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ Z ] } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 ] } );

X.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">push( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );
Y[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10;

X;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [10,2]
Y;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [10,2]
Z;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">A word of caution about destructuring: it may be tempting to list destructuring assignments all on a single line as has been done thus far in our discussion. However, it's a much better idea to spread destructuring assignment patterns over multiple lines, using proper indentation -- much like you would in JSON or with an object literal value -- for readability sake.<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// harder to read:
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ c, d ], e<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { f } }, g } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= obj;

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// better:
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var {
    a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ c, d ],
        e<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { f }
    },
    g
} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= obj;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Remember:&nbsp;<strong style="box-sizing: border-box;">the purpose of destructuring is not just less typing, but more declarative readability.</strong><h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-destructuring-assignment-expressions" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#destructuring-assignment-expressions" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Destructuring Assignment Expressions</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The assignment expression with object or array destructuring has as its completion value the full righthand object/array value. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    a, b, c, p;

p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a, b, c } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== o;                        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the previous snippet,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">p```
&nbsp;was assigned the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o```
&nbsp;object reference, not one of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">b```
, or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">c```
&nbsp;values. The same is true of array destructuring:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3],
    a, b, c, p;

p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ a, b, c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== o;                        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">By carrying the object/array value through as the completion, you can chain destructuring assignment expressions together:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6],
    a, b, c, x, y, z;

( {a} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {b,c} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o );
[x,y] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [z] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= p;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 4</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-too-many-too-few-just-enough" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#too-many-too-few-just-enough" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Too Many, Too Few, Just Enough</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">With both array destructuring assignment and object destructuring assignment, you do not have to assign all the values that are present. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [,b] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b, x, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 4 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">1```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">3```
&nbsp;values that came back from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo()```
&nbsp;are discarded, as is the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">5```
&nbsp;value from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similarly, if you try to assign more values than are present in the value you're destructuring/decomposing, you get graceful fallback to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
, as you'd expect:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [,,c,d] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { w, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( c, z );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 3 6
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( d, w );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This behavior follows symmetrically from the earlier stated "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;is missing" principle.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We examined the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operator earlier in this chapter, and saw that it can sometimes be used to spread an array value out into its separate values, and sometimes it can be used to do the opposite: to gather a set of values together into an array.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In addition to the gather/rest usage in function declarations,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;can perform the same behavior in destructuring assignments. To illustrate, let's recall a snippet from earlier in this chapter:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 ];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here we see that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...a```
&nbsp;is spreading&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;out, because it appears in the array&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
&nbsp;value position. If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...a```
&nbsp;appears in an array destructuring position, it performs the gather behavior:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ b, ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b, c );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 [3,4]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var [ .. ] = a```
&nbsp;destructuring assignment spreads&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;out to be assigned to the pattern described inside the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
. The first part names&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">b```
&nbsp;for the first value in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;(<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">2```
). But then&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...c```
&nbsp;gathers the rest of the values (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">3```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">4```
) into an array and calls it&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">c```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;We've seen how&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;works with arrays, but what about with objects? It's not an ES6 feature, but see Chapter 8 for discussion of a possible "beyond ES6" feature where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;works with spreading or gathering objects.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-default-value-assignment" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#default-value-assignment" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Default Value Assignment</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Both forms of destructuring can offer a default value option for an assignment, using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;syntax similar to the default function argument values discussed earlier.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6, c <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">9, d <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">12 ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">15, w <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c, d );          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3 12
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z, w );          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can combine the default value assignment with the alternative assignment expression syntax covered earlier. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x, y, z, w<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">WW <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">WW );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Be careful about confusing yourself (or other developers who read your code) if you use an object or array as the default value in a destructuring. You can create some really hard to understand code:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">200, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">300, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">100;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 }, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z } };

( { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );
( { z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );
( { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Can you tell from that snippet what values&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;have at the end? Takes a moment of pondering, I would imagine. I'll end the suspense:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, y.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, z.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 300 100 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The takeaway here: destructuring is great and can be very useful, but it's also a sharp sword that can cause injury (to someone's brain) if used unwisely.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-nested-destructuring" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#nested-destructuring" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Nested Destructuring</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If the values you're destructuring have nested objects or arrays, you can destructure those nested values as well:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4], <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 ];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 } } };

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ a, [ b, c, d ], e ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a1;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: w } } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c, d, e );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3 4 5
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( w );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Nested destructuring can be a simple way to flatten out object namespaces. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var App <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    model<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">User<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){ .. }
    }
};

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// instead of:
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// var User = App.model.User;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { model<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { User } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= App;</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-destructuring-parameters" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#destructuring-parameters" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Destructuring Parameters</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the following snippet, can you spot the assignment?<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The assignment is kinda hidden:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">42```
&nbsp;(the argument) is assigned to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;(the parameter) when&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(42)```
&nbsp;is executed. If parameter/argument pairing is an assignment, then it stands to reason that it's an assignment that could be destructured, right? Of course!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider array destructuring for parameters:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( [ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y ] ) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ] );                    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 ] );                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 undefined
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( [] );                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Object destructuring for parameters works, too:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( { <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y } ) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 } );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 1
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 } );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( {} );                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This technique is an approximation of named arguments (a long requested feature for JS!), in that the properties on the object map to the destructured parameters of the same names. That also means that we get optional parameters (in any position) for free, as you can see leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;"parameter" worked as we'd expect.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, all the previously discussed variations of destructuring are available to us with parameter destructuring, including nested destructuring, default values, and more. Destructuring also mixes fine with other ES6 function parameter capabilities, like default parameter values and rest/gather parameters.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider these quick illustrations (certainly not exhaustive of the possible variations):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f1([ <span class="pl-smi" style="box-sizing: border-box;">x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-smi" style="box-sizing: border-box;">y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-smi" style="box-sizing: border-box;">z ]) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f2([ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z], <span class="pl-smi" style="box-sizing: border-box;">w) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f3([ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z], ...<span class="pl-smi" style="box-sizing: border-box;">w) { .. }

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f4({ <span class="pl-smi" style="box-sizing: border-box;">x: <span class="pl-smi" style="box-sizing: border-box;">X, <span class="pl-smi" style="box-sizing: border-box;">y }) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f5({ <span class="pl-smi" style="box-sizing: border-box;">x: <span class="pl-smi" style="box-sizing: border-box;">X <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, <span class="pl-smi" style="box-sizing: border-box;">y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20 }) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f6({ <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}, { <span class="pl-smi" style="box-sizing: border-box;">y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { <span class="pl-smi" style="box-sizing: border-box;">y: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 }) { .. }</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's take one example from this snippet and examine it, for illustration purposes:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f3([ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z], ...<span class="pl-smi" style="box-sizing: border-box;">w) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z, w );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f3( [] );                           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined [] []
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f3( [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4], <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 [3,4] [5,6]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There are two&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operators in use here, and they're both gathering values in arrays (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
), though&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...z```
&nbsp;gathers from the rest of the values left over in the first array argument, while&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...w```
&nbsp;gathers from the rest of the main arguments left over after the first.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-destructuring-defaults--parameter-defaults" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#destructuring-defaults--parameter-defaults" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Destructuring Defaults + Parameter Defaults</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's one subtle point you should be particularly careful to notice -- the difference in behavior between a destructuring default value and a function parameter default value. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f6({ <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}, { <span class="pl-smi" style="box-sizing: border-box;">y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { <span class="pl-smi" style="box-sizing: border-box;">y: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 }) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6();                               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">At first, it would seem that we've declared a default value of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
&nbsp;for both the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;parameters, but in two different ways. However, these two different approaches will behave differently in certain cases, and the difference is awfully subtle.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( {}, {} );                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Wait, why did that happen? It's pretty clear that named parameter&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;is defaulting to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
&nbsp;if not passed as a property of that same name in the first argument's object.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But what about&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;being&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
? The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y: 10 }```
&nbsp;value is an object as a function parameter default value, not a destructuring default value. As such, it only applies if the second argument is not passed at all, or is passed as<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the previous snippet, we&nbsp;<em style="box-sizing: border-box;">are</em>&nbsp;passing a second argument (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
), so the default&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y: 10 }```
&nbsp;value is not used, and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y }```
&nbsp;destructuring occurs against the passed in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
&nbsp;empty object value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, compare&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y } = { y: 10 }```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x = 10 } = {}```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
's form usage, if the first function argument is omitted or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
&nbsp;empty object default applies. Then, whatever value is in the first argument position -- either the default&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
&nbsp;or whatever you passed in -- is destructured with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x = 10 }```
, which checks to see if an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;property is found, and if not found (or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
), the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
&nbsp;default value is applied to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;named parameter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Deep breath. Read back over those last few paragraphs a couple of times. Let's review via code:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f6({ <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}, { <span class="pl-smi" style="box-sizing: border-box;">y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { <span class="pl-smi" style="box-sizing: border-box;">y: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 }) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6();                               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( {}, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( {}, {} );                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 undefined
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, {} );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 undefined

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 }, { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 } );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It would generally seem that the defaulting behavior of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;parameter is probably the more desirable and sensible case compared to that of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
. As such, it's important to understand why and how&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x = 10 } = {}```
&nbsp;form is different from<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y } = { y: 10 }```
&nbsp;form.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If that's still a bit fuzzy, go back and read it again, and play with this yourself. Your future self will thank you for taking the time to get this very subtle gotcha nuance detail straight.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-nested-defaults-destructured-and-restructured" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#nested-defaults-destructured-and-restructured" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Nested Defaults: Destructured and Restructured</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Although it may at first be difficult to grasp, an interesting idiom emerges for setting defaults for a nested object's properties: using object destructuring along with what I'd call&nbsp;<em style="box-sizing: border-box;">restructuring</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider a set of defaults in a nested object structure, like the following:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// taken from: http://es-discourse.com/t/partial-default-arguments/120/7

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var defaults <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        remove<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true,
        enable<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false,
        instance<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {}
    },
    log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        warn<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true,
        error<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, let's say that you have an object called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
, which has some of these applied, but perhaps not all, and you'd like to set all the defaults into this object in the missing spots, but not override specific settings already present:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var config <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        remove<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false,
        instance<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can of course do so manually, as you might have done in the past:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| {};
config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">?
    config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove;
config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">?
    config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable;
...</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Yuck.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Others may prefer the assign-overwrite approach to this task. You might be tempted by the ES6&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
utility (see Chapter 6) to clone the properties first from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">defaults```
&nbsp;and then overwritten with the cloned properties from<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
, as so:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">config <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">assign( {}, defaults, config );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That looks way nicer, huh? But there's a major problem!&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;is shallow, which means when it copies<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">defaults.options```
, it just copies that object reference, not deep cloning that object's properties to a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config.options```
object.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;would need to be applied (sort of "recursively") at all levels of your object's tree to get the deep cloning you're expecting.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Many JS utility libraries/frameworks provide their own option for deep cloning of an object, but those approaches and their gotchas are beyond our scope to discuss here.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So let's examine if ES6 object destructuring with defaults can help at all:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| {};
config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| {};
{
    options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        remove<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove,
        enable<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable,
        instance<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">instance <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">instance
    } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {},
    log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        warn<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.warn <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.warn,
        error<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.error <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.error
    } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}
} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Not as nice as the false promise of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;(being that it's shallow only), but it's better than the manual approach by a fair bit, I think. It is still unfortunately verbose and repetitive, though.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The previous snippet's approach works because I'm hacking the destructuring and defaults mechansim to do the property&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=== undefined```
&nbsp;checks and assignment decisions for me. It's a trick in that I'm destructuring&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
&nbsp;(see the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">= config```
&nbsp;at the end of the snippet), but I'm reassigning all the destructured values right back into&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
, with the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config.options.enable```
&nbsp;assignment references.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Still too much, though. Let's see if we can make anything better.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The following trick works best if you know that all the various properties you're destructuring are uniquely named. You can still do it even if that's not the case, but it's not as nice -- you'll have to do the destructuring in stages, or create unique local variables as temporary aliases.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If we fully destructure all the properties into top-level variables, we can then immediately restructure to reconstitute the original nested object structure.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But all those temporary variables hanging around would pollute scope. So, let's use block scoping (see "Block-Scoped Declarations" earlier in this chapter) with a general&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ }```
&nbsp;enclosing block:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// merge `defaults` into `config`
{
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// destructure (with default value assignments)
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">let {
        options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
            remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove,
            enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable,
            instance <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">instance
        } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {},
        log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
            warn <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.warn,
            error <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.error
        } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}
    } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config;

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// restructure
    config <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { remove, enable, instance },
        log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { warn, error }
    };
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That seems a fair bit nicer, huh?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;You could also accomplish the scope enclosure with an arrow IIFE instead of the general&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ }```
&nbsp;block and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
declarations. Your destructuring assignments/defaults would be in the parameter list and your restructuring would be the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;statement in the function body.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ warn, error }```
&nbsp;syntax in the restructuring part may look new to you; that's called "concise properties" and we cover it in the next section!
#Default Parameters
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Default Parameter Values</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Perhaps one of the most common idioms in JavaScript relates to setting a default value for a function parameter. The way we've done this for years should look quite familiar:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11;
    y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31;

    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 11
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 17</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, if you've used this pattern before, you know that it's both helpful and a little bit dangerous, if for example you need to be able to pass in what would otherwise be considered a falsy value for one of the parameters. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 53 <-- Oops, not 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Why? Because the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
&nbsp;is falsy, and so the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x || 11```
&nbsp;results in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">11```
, not the directly passed in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To fix this gotcha, some people will instead write the check more verbosely like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11;
    y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31;

    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 17</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, that means that any value except&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;can be directly passed in. However,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;will be assumed to signal, "I didn't pass this in." That works great unless you actually need to be able to pass&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;in.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In that case, you could test to see if the argument is actually omitted, by it actually not being present in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
array, perhaps like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">in arguments) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11;
    y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">in arguments) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31;

    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// NaN</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But how would you omit the first&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;argument without the ability to pass in any kind of value (not even&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
) that signals "I'm omitting this argument"?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(,5)```
&nbsp;is tempting, but it's invalid syntax.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo.apply(null,[,5])```
&nbsp;seems like it should do the trick, but&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">apply(..)```
's quirks here mean that the arguments are treated as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[undefined,5]```
, which of course doesn't omit.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you investigate further, you'll find you can only omit arguments on the end (i.e., righthand side) by simply passing fewer arguments than "expected," but you cannot omit arguments in the middle or at the beginning of the arguments list. It's just not possible.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a principle applied to JavaScript's design here that is important to remember:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;means&nbsp;<em style="box-sizing: border-box;">missing</em>. That is, there's no difference between&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;and&nbsp;<em style="box-sizing: border-box;">missing</em>, at least as far as function arguments go.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;There are, confusingly, other places in JS where this particular design principle doesn't apply, such as for arrays with empty slots. See the&nbsp;<em style="box-sizing: border-box;">Types &amp; Grammar</em>&nbsp;title of this series for more information.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">With all this in mind, we can now examine a nice helpful syntax added as of ES6 to streamline the assignment of default values to missing arguments:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11, <span class="pl-smi" style="box-sizing: border-box;">y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 11
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36 <-- `undefined` is missing
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 5  <-- null coerces to `0`

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 17 <-- `undefined` is missing
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 6  <-- null coerces to `0`</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Notice the results and how they imply both subtle differences and similarities to the earlier approaches.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x = 11```
&nbsp;in a function declaration is more like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x !== undefined ? x : 11```
&nbsp;than the much more common idiom&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x || 11```
, so you'll need to be careful in converting your pre-ES6 code to this ES6 default parameter value syntax.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;A rest/gather parameter (see "Spread/Rest") cannot have a default value. So, while&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function foo(...vals=[1,2,3]) {```
&nbsp;might seem an intriguing capability, it's not valid syntax. You'll need to continue to apply that sort of logic manually if necessary.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-default-value-expressions" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#default-value-expressions" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Default Value Expressions</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Function default values can be more than just simple values like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">31```
; they can be any valid expression, even a function call:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar(<span class="pl-smi" style="box-sizing: border-box;">val) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar called!<span class="pl-pds" style="box-sizing: border-box;">" );
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ val;
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">y + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-smi" style="box-sizing: border-box;">z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">bar( <span class="pl-smi" style="box-sizing: border-box;">x )) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, z );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5;
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();                              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "bar called"
                                    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 8 13
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 );                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "bar called"
                                    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 15
y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6;
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 9 10</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, the default value expressions are lazily evaluated, meaning they're only run if and when they're needed -- that is, when a parameter's argument is omitted or is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's a subtle detail, but the formal parameters in a function declaration are in their own scope (think of it as a scope bubble wrapped around just the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( .. )```
&nbsp;of the function declaration), not in the function body's scope. That means a reference to an identifier in a default value expression first matches the formal parameters' scope before looking to an outer scope. See the&nbsp;<em style="box-sizing: border-box;">Scope &amp; Closures</em>&nbsp;title of this series for more information.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var w <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">w + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-smi" style="box-sizing: border-box;">y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">x + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-smi" style="box-sizing: border-box;">z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">z + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 ) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ReferenceError</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w + 1```
&nbsp;default value expression looks for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
&nbsp;in the formal parameters' scope, but does not find it, so the outer scope's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
&nbsp;is used. Next, The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x + 1```
&nbsp;default value expression finds&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;in the formal parameters' scope, and luckily&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;has already been initialized, so the assignment to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;works fine.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z + 1```
&nbsp;finds&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;as a not-yet-initialized-at-that-moment parameter variable, so it never tries to find the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;from the outer scope.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As we mentioned in the "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
&nbsp;Declarations" section earlier in this chapter, ES6 has a TDZ, which prevents a variable from being accessed in its uninitialized state. As such, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z + 1```
&nbsp;default value expression throws a TDZ<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">ReferenceError```
&nbsp;error.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Though it's not necessarily a good idea for code clarity, a default value expression can even be an inline function expression call -- commonly referred to as an immediately invoked function expression (IIFE):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
    (<span class="pl-smi" style="box-sizing: border-box;">function(<span class="pl-smi" style="box-sizing: border-box;">v){ <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11; })( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31 )
) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There will very rarely be any cases where an IIFE (or any other executed inline function expression) will be appropriate for default value expressions. If you find yourself tempted to do this, take a step back and reevaluate!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;If the IIFE had tried to access the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;identifier and had not declared its own&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
, this would also have been a TDZ error, just as discussed before.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The default value expression in the previous snippet is an IIFE in that in the sense that it's a function that's executed right inline, via&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">(31)```
. If we had left that part off, the default value assigned to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;would have just been a function reference itself, perhaps like a default callback. There will probably be cases where that pattern will be quite useful, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">ajax(<span class="pl-smi" style="box-sizing: border-box;">url, <span class="pl-smi" style="box-sizing: border-box;">cb <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">function(){}) {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">ajax( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"http://some.url.1<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this case, we essentially want to default&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">cb```
&nbsp;to be a no-op empty function call if not otherwise specified. The function expression is just a function reference, not a function call itself (no invoking&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">()```
&nbsp;on the end of it), which accomplishes that goal.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Since the early days of JS, there's been a little-known but useful quirk available to us:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Function.prototype```
&nbsp;is itself an empty no-op function. So, the declaration could have been&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">cb = Function.prototype```
&nbsp;and saved the inline function expression creation.
#Spread && Rest
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Spread/Rest</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 introduces a new&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operator that's typically referred to as the&nbsp;<em style="box-sizing: border-box;">spread</em>&nbsp;or&nbsp;<em style="box-sizing: border-box;">rest</em>&nbsp;operator, depending on where/how it's used. Let's take a look:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y,<span class="pl-smi" style="box-sizing: border-box;">z) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( ...[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3] );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">When&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is used in front of an array (actually, any&nbsp;<em style="box-sizing: border-box;">iterable</em>, which we cover in Chapter 3), it acts to "spread" it out into its individual values.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You'll typically see that usage as is shown in that previous snippet, when spreading out an array as a set of arguments to a function call. In this usage,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;acts to give us a simpler syntactic replacement for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">apply(..)```
&nbsp;method, which we would typically have used pre-ES6 as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">foo.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">apply( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3] );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;can be used to spread out/expand a value in other contexts as well, such as inside another array declaration:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 ];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this usage,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is basically replacing&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">concat(..)```
, as it behaves like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[1].concat( a, [5] )```
&nbsp;here.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The other common usage of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;can be seen as essentially the opposite; instead of spreading a value out, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
<em style="box-sizing: border-box;">gathers</em>&nbsp;a set of values together into an array. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 [3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...z```
&nbsp;in this snippet is essentially saying: "gather the&nbsp;<em style="box-sizing: border-box;">rest</em>&nbsp;of the arguments (if any) into an array called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
." Because<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;was assigned&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">1```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;was assigned&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">2```
, the rest of the arguments&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">3```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">4```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">5```
&nbsp;were gathered into&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, if you don't have any named parameters, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;gathers all arguments:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(...<span class="pl-smi" style="box-sizing: border-box;">args) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( args );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5);            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...args```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;function declaration is usually called "rest parameters," because you're collecting the rest of the parameters. I prefer "gather," because it's more descriptive of what it does rather than what it contains.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The best part about this usage is that it provides a very solid alternative to using the long-since-deprecated&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
array -- actually, it's not really an array, but an array-like object. Because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">args```
&nbsp;(or whatever you call it -- a lot of people prefer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">r```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">rest```
) is a real array, we can get rid of lots of silly pre-ES6 tricks we jumped through to make&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
into something we can treat as an array.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// doing things the new ES6 way
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(...<span class="pl-smi" style="box-sizing: border-box;">args) {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// `args` is already a real array

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// discard first element in `args`
    args.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">shift();

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// pass along all of `args` as arguments
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to `console.log(..)`
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">args );
}

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// doing things the old-school pre-ES6 way
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// turn `arguments` into a real array
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var args <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Array.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">prototype.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">slice.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">call( arguments );

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// add some elements on the end
    args.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">push( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// filter out odd numbers
    args <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= args.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">filter( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">v){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">% <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0;
    } );

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// pass along all of `args` as arguments
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to `foo(..)`
    foo.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">apply( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, args );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 );                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 4</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...args```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;function declaration gathers arguments, and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...args```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">console.log(..)```
&nbsp;call spreads them out. That's a good illustration of the symmetric but opposite uses of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operator.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Besides the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;usage in a function declaration, there's another case where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is used for gathering values, and we'll look at it in the "Too Many, Too Few, Just Enough" section later in this chapter.
#My presentaion
#What's ES6
#names: ES6, ES2015, Harmony
#How do I use ES6
#transpiling
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Transpiling</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Made even worse by the rapid evolution of features, a problem arises for JS developers who at once may both strongly desire to use new features while at the same time being slapped with the reality that their sites/apps may need to support older browsers without such support.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The way ES5 appears to have played out in the broader industry, the typical mindset was that code bases waited to adopt ES5 until most if not all pre-ES5 environments had fallen out of their support spectrum. As a result, many are just recently (at the time of this writing) starting to adopt things like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strict```
&nbsp;mode, which landed in ES5 over five years ago.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's widely considered to be a harmful approach for the future of the JS ecosystem to wait around and trail the specification by so many years. All those responsible for evolving the language desire for developers to begin basing their code on the new features and patterns as soon as they stabilize in specification form and browsers have a chance to implement them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So how do we resolve this seeming contradiction? The answer is tooling, specifically a technique called&nbsp;<em style="box-sizing: border-box;">transpiling</em>(transformation + compiling). Roughly, the idea is to use a special tool to transform your ES6 code into equivalent (or close!) matches that work in ES5 environments.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example, consider shorthand property definitions (see "Object Literal Extensions" in Chapter 2). Here's the ES6 form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var foo <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var obj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    foo     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// means `foo: foo`
};

obj.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo;    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But (roughly) here's how that transpiles:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var foo <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var obj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    foo<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: foo
};

obj.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo;    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This is a minor but pleasant transformation that lets us shorten the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo: foo```
&nbsp;in an object literal declaration to just&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo```
, if the names are the same.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Transpilers perform these transformations for you, usually in a build workflow step similar to how you perform linting, minification, and other similar operations.
#Babel.js
#Shims/Polyfills
<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Shims/Polyfills</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Not all new ES6 features need a transpiler. Polyfills (aka shims) are a pattern for defining equivalent behavior from a newer environment into an older environment, when possible. Syntax cannot be polyfilled, but APIs often can be.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.is(..)```
&nbsp;is a new utility for checking strict equality of two values but without the nuanced exceptions that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">===```
&nbsp;has for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">NaN```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">-0```
&nbsp;values. The polyfill for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.is(..)```
&nbsp;is pretty easy:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">is) {
    <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">is <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">v1, <span class="pl-smi" style="box-sizing: border-box;">v2) {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// test for `-0`
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">&amp;&amp; v2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 / v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 / v2;
        }
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// test for `NaN`
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== v1) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== v2;
        }
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// everything else
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== v2;
    };
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Tip:</strong>&nbsp;Pay attention to the outer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">if```
&nbsp;statement guard wrapped around the polyfill. This is an important detail, which means the snippet only defines its fallback behavior for older environments where the API in question isn't already defined; it would be very rare that you'd want to overwrite an existing API.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a great collection of ES6 shims called "ES6 Shim" (<a href="https://github.com/paulmillr/es6-shim/" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://github.com/paulmillr/es6-shim/</a>) that you should definitely adopt as a standard part of any new JS project!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It is assumed that JS will continue to evolve constantly, with browsers rolling out support for features continually rather than in large chunks. So the best strategy for keeping updated as it evolves is to just introduce polyfill shims into your code base, and a transpiler step into your build workflow, right now and get used to that new reality.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you decide to keep the status quo and just wait around for all browsers without a feature supported to go away before you start using the feature, you're always going to be way behind. You'll sadly be missing out on all the innovations designed to make writing JavaScript more effective, efficient, and robust.
#Syntax
#Scope
#http://cdn.oreillystatic.com/en/assets/1/event/93/An%20Overview%20of%20ECMAScript%206%20Presentation.pdf
#Great slides
#http://charlesbking.com/power_of_es6/#/38
#https://github.com/ericdouglas/ES6-Learning
#nice slides with runnable javascript
#Resources
#an awesome list of many resources
#https://github.com/getify/You-Dont-Know-JS/tree/master/es6%20%26%20beyond
#getify you don't know js: ES6
#Playgrounds
#http://www.es6fiddle.net/
#http://babeljs.io/repl/
#Slides
#https://dl.dropboxusercontent.com/u/3531958/es6-favorite-parts/index.html#/
#nice slides with comparision
#Organization
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch8.md
#Proxies
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch7.md
#Meta Programming
#Objects
#Arrays
#Any additions to existing types
#Api Additions
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch5.md
#Typed Arrays
#Sets
#Map
#Collections
#Generator + Promises
#Thenable
#Promises
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch4.md
#Async && Flow Control
#Generators
#Iterators
#https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&%20beyond/ch3.md
#Beyond ES6
#Review
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Review</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 adds a heap of new syntax forms to JavaScript, so there's plenty to learn!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Most of these are designed to ease the pain points of common programming idioms, such as setting default values to function parameters and gathering the "rest" of the parameters into an array. Destructuring is a powerful tool for more concisely expressing assignments of values from arrays and nested objects.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While features like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions appear to also be all about shorter and nicer-looking syntax, they actually have very specific behaviors that you should intentionally use only in appropriate situations.<p style="box-sizing: border-box; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px; margin-bottom: 0px !important;">Expanded Unicode support, new tricks for regular expressions, and even a new primitive&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symbol```
&nbsp;type round out the syntactic evolution of ES6.
#String value that can't be repeated
#Symbols
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Symbols</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">With ES6, for the first time in quite a while, a new primitive type has been added to JavaScript: the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symbol```
. Unlike the other primitive types, however, symbols don't have a literal form.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's how you create a symbol:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var sym <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"some optional description<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof sym;     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "symbol"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Some things to note:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;">You cannot and should not use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">new```
&nbsp;with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol(..)```
. It's not a constructor, nor are you producing an object.</li><li style="box-sizing: border-box;">The parameter passed to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol(..)```
&nbsp;is optional. If passed, it should be a string that gives a friendly description for the symbol's purpose.</li><li style="box-sizing: border-box;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">typeof```
&nbsp;output is a new value (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"symbol"```
) that is the primary way to identify a symbol.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The description, if provided, is solely used for the stringification representation of the symbol:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">sym.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString();     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Symbol(some optional description)"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similar to how primitive string values are not instances of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String```
, symbols are also not instances of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol```
. If, for some reason, you want to construct a boxed wrapper object form of a symbol value, you can do the following:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">sym <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">instanceof Symbol;      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var symObj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object( sym );
symObj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">instanceof Symbol;   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true

symObj.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">valueOf() <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== sym;   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symObj```
&nbsp;in this snippet is interchangeable with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">sym```
; either form can be used in all places symbols are utilized. There's not much reason to use the boxed wrapper object form (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symObj```
) instead of the primitive form (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">sym```
). Keeping with similar advice for other primitives, it's probably best to prefer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">sym```
&nbsp;over&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">symObj```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The internal value of a symbol itself -- referred to as its&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;-- is hidden from the code and cannot be obtained. You can think of this symbol value as an automatically generated, unique (within your application) string value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But if the value is hidden and unobtainable, what's the point of having a symbol at all?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The main point of a symbol is to create a string-like value that can't collide with any other value. So, for example, consider using a symbol as a constant representing an event name:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"event.login<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You'd then use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;in place of a generic string literal like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"event.login"```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">evthub.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">listen( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN, <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">data){
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The benefit here is that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;holds a value that cannot be duplicated (accidentally or otherwise) by any other value, so it is impossible for there to be any confusion of which event is being dispatched or handled.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Under the covers, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">evthub```
&nbsp;utility assumed in the previous snippet would almost certainly be using the symbol value from the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;argument directly as the property/key in some internal object (hash) that tracks event handlers. If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">evthub```
&nbsp;instead needed to use the symbol value as a real string, it would need to explicitly coerce with<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String(..)```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toString()```
, as implicit string coercion of symbols is not allowed.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You may use a symbol directly as a property name/key in an object, such as a special property that you want to treat as hidden or meta in usage. It's important to know that although you intend to treat it as such, it is not&nbsp;<em style="box-sizing: border-box;">actually</em>&nbsp;a hidden or untouchable property.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider this module that implements the&nbsp;<em style="box-sizing: border-box;">singleton</em>&nbsp;pattern behavior -- that is, it only allows itself to be created once:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"instance<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">HappyFace() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE]) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE];

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">smile() { .. }

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        smile<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: smile
    };
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var me <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">HappyFace(),
    you <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">HappyFace();

me <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== you;         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">INSTANCE```
&nbsp;symbol value here is a special, almost hidden, meta-like property stored statically on the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">HappyFace()```
function object.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It could alternatively have been a plain old property like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__instance```
, and the behavior would have been identical. The usage of a symbol simply improves the metaprogramming style, keeping this&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">INSTANCE```
&nbsp;property set apart from any other normal properties.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-symbol-registry" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#symbol-registry" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Symbol Registry</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">One mild downside to using symbols as in the last few examples is that the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">EVT_LOGIN```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">INSTANCE```
&nbsp;variables had to be stored in an outer scope (perhaps even the global scope), or otherwise somehow stored in a publicly available location, so that all parts of the code that need to use the symbols can access them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To aid in organizing code with access to these symbols, you can create symbol values with the&nbsp;<em style="box-sizing: border-box;">global symbol registry</em>. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"event.login<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">EVT_LOGIN );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Symbol(event.login)</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">HappyFace() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">const <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"instance<span class="pl-pds" style="box-sizing: border-box;">" );

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE]) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE];

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return HappyFace[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">INSTANCE] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { .. };
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.for(..)```
&nbsp;looks in the global symbol registry to see if a symbol is already stored with the provided description text, and returns it if so. If not, it creates one to return. In other words, the global symbol registry treats symbol values, by description text, as singletons themselves.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But that also means that any part of your application can retrieve the symbol from the registry using&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.for(..)```
, as long as the matching description name is used.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Ironically, symbols are basically intended to replace the use of&nbsp;<em style="box-sizing: border-box;">magic strings</em>&nbsp;(arbitrary string values given special meaning) in your application. But you precisely use&nbsp;<em style="box-sizing: border-box;">magic</em>&nbsp;description string values to uniquely identify/locate them in the global symbol registry!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To avoid accidental collisions, you'll probably want to make your symbol descriptions quite unique. One easy way of doing that is to include prefix/context/namespacing information in them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example, consider a utility such as the following:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">extractValues(<span class="pl-smi" style="box-sizing: border-box;">str) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var key <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"extractValues.parse<span class="pl-pds" style="box-sizing: border-box;">" ),
        re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= extractValues[key] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">||
<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);">            <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">[<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^=&amp;]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+?=(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">[<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^&amp;]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+?)(?=&amp;<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">$)<span class="pl-pds" style="box-sizing: border-box;">/g,
        values <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [], match;

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">while (match <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str )) {
        values.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">push( match[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] );
    }

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return values;
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We use the magic string value&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"extractValues.parse"```
&nbsp;because it's quite unlikely that any other symbol in the registry would ever collide with that description.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If a user of this utility wants to override the parsing regular expression, they can also use the symbol registry:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">extractValues[Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"extractValues.parse<span class="pl-pds" style="box-sizing: border-box;">" )] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);">    <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">..some pattern<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">..<span class="pl-pds" style="box-sizing: border-box;">/g;

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">extractValues( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"..some string..<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Aside from the assistance the symbol registry provides in globally storing these values, everything we're seeing here could have been done by just actually using the magic string&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"extractValues.parse"```
&nbsp;as the key, rather than the symbol. The improvements exist at the metaprogramming level more than the functional level.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You may have occasion to use a symbol value that has been stored in the registry to look up what description text (key) it's stored under. For example, you may need to signal to another part of your application how to locate a symbol in the registry because you cannot pass the symbol value itself.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can retrieve a registered symbol's description text (key) using&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.keyFor(..)```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"something cool<span class="pl-pds" style="box-sizing: border-box;">" );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">keyFor( s );
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( desc );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "something cool"

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// get the symbol from the registry again
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">for( desc );

s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s;                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-symbols-as-object-properties" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#symbols-as-object-properties" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Symbols as Object Properties</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If a symbol is used as a property/key of an object, it's stored in a special way so that the property will not show up in a normal enumeration of the object's properties:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    foo<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42,
    [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Symbol( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">" ) ]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"hello world<span class="pl-pds" style="box-sizing: border-box;">",
    baz<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true
};

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">getOwnPropertyNames( o );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "foo","baz" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To retrieve an object's symbol properties:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">getOwnPropertySymbols( o );  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ Symbol(bar) ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This makes it clear that a property symbol is not actually hidden or inaccessible, as you can always see it in the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.getOwnPropertySymbols(..)```
&nbsp;list.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-built-in-symbols" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#built-in-symbols" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Built-In Symbols</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 comes with a number of predefined built-in symbols that expose various meta behaviors on JavaScript object values. However, these symbols are&nbsp;<em style="box-sizing: border-box;">not</em>&nbsp;registered in the global symbol registry, as one might expect.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Instead, they're stored as properties on the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol```
&nbsp;function object. For example, in the "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
" section earlier in this chapter, we introduced the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.iterator```
&nbsp;value:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];

a[Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">iterator];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// native function</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The specification uses the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@```
&nbsp;prefix notation to refer to the built-in symbols, the most common ones being:<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@iterator```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@toStringTag```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">@@toPrimitive```
. Several others are defined as well, though they probably won't be used as often.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;See "Well Known Symbols" in Chapter 7 for detailed information about how these built-in symbols are used for meta programming purposes.
#Unicode
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Unicode</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let me just say that this section is not an exhaustive everything-you-ever-wanted-to-know-about-Unicode resource. I want to cover what you need to know that's&nbsp;<em style="box-sizing: border-box;">changing</em>&nbsp;for Unicode in ES6, but we won't go much deeper than that. Mathias Bynens (<a href="http://twitter.com/mathias" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://twitter.com/mathias</a>) has written/spoken extensively and brilliantly about JS and Unicode (see<a href="https://mathiasbynens.be/notes/javascript-unicode" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://mathiasbynens.be/notes/javascript-unicode</a>&nbsp;and&nbsp;<a href="http://fluentconf.com/javascript-html-2015/public/content/2015/02/18-javascript-loves-unicode" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://fluentconf.com/javascript-html-2015/public/content/2015/02/18-javascript-loves-unicode</a>).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The Unicode characters that range from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0x0000```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0xFFFF```
&nbsp;contain all the standard printed characters (in various languages) that you're likely to have seen or interacted with. This group of characters is called the&nbsp;<em style="box-sizing: border-box;">Basic Multilingual Plane (BMP)</em>. The BMP even contains fun symbols like this cool snowman: ☃ (U+2603).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There are lots of other extended Unicode characters beyond this BMP set, which range up to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0x10FFFF```
. These symbols are often referred to as&nbsp;<em style="box-sizing: border-box;">astral</em>&nbsp;symbols, as that's the name given to the set of 16&nbsp;<em style="box-sizing: border-box;">planes</em>&nbsp;(e.g., layers/groupings) of characters beyond the BMP. Examples of astral symbols include 𝄞 (U+1D11E) and&nbsp;<g-emoji alias="hankey" fallback-src="https://assets-cdn.github.com/images/icons/emoji/unicode/1f4a9.png" style="box-sizing: border-box;">💩</g-emoji>&nbsp;(U+1F4A9).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, JavaScript strings could specify Unicode characters using Unicode escaping, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var snowman <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\u2603<span class="pl-pds" style="box-sizing: border-box;">";
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( snowman );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "☃"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\uXXXX```
&nbsp;Unicode escaping only supports four hexadecimal characters, so you can only represent the BMP set of characters in this way. To represent an astral character using Unicode escaping prior to ES6, you need to use a<em style="box-sizing: border-box;">surrogate pair</em>&nbsp;-- basically two specially calculated Unicode-escaped characters side by side, which JS interprets together as a single astral character:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\uD834<span class="pl-cce" style="box-sizing: border-box;">\uDD1E<span class="pl-pds" style="box-sizing: border-box;">";
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( gclef );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝄞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As of ES6, we now have a new form for Unicode escaping (in strings and regular expressions), called Unicode&nbsp;<em style="box-sizing: border-box;">code point escaping</em>:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\u{1D11E}<span class="pl-pds" style="box-sizing: border-box;">";
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( gclef );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝄞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, the difference is the presence of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ }```
&nbsp;in the escape sequence, which allows it to contain any number of hexadecimal characters. Because you only need six to represent the highest possible code point value in Unicode (i.e., 0x10FFFF), this is sufficient.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-unicode-aware-string-operations" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#unicode-aware-string-operations" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Unicode-Aware String Operations</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">By default, JavaScript string operations and methods are not sensitive to astral symbols in string values. So, they treat each BMP character individually, even the two surrogate halves that make up an otherwise single astral character. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var snowman <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"☃<span class="pl-pds" style="box-sizing: border-box;">";
snowman.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞<span class="pl-pds" style="box-sizing: border-box;">";
gclef.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, how do we accurately calculate the length of such a string? In this scenario, the following trick will work:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var gclef <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞<span class="pl-pds" style="box-sizing: border-box;">";

[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">gclef].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Array.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">from( gclef ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall from the "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;Loops" section earlier in this chapter that ES6 strings have built-in iterators. This iterator happens to be Unicode-aware, meaning it will automatically output an astral symbol as a single value. We take advantage of that using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;spread operator in an array literal, which creates an array of the string's symbols. Then we just inspect the length of that resultant array. ES6's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Array.from(..)```
&nbsp;does basically the same thing as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[...XYZ]```
, but we'll cover that utility in detail in Chapter 6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;It should be noted that constructing and exhausting an iterator just to get the length of a string is quite expensive on performance, relatively speaking, compared to what a theoretically optimized native utility/property would do.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unfortunately, the full answer is not as simple or straightforward. In addition to the surrogate pairs (which the string iterator takes care of), there are special Unicode code points that behave in other special ways, which is much harder to account for. For example, there's a set of code points that modify the previous adjacent character, known as<em style="box-sizing: border-box;">Combining Diacritical Marks</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider these two string outputs:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s1 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "é"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s2 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "é"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">They look the same, but they're not! Here's how we created&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">s1```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">s2```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\xE9<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-cce" style="box-sizing: border-box;">\u0301<span class="pl-pds" style="box-sizing: border-box;">";</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can probably guess, our previous&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">length```
&nbsp;trick doesn't work with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">s2```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s1].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s2].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So what can we do? In this case, we can perform a&nbsp;<em style="box-sizing: border-box;">Unicode normalization</em>&nbsp;on the value before inquiring about its length, using the ES6&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String#normalize(..)```
&nbsp;utility (which we'll cover more in Chapter 6):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-cce" style="box-sizing: border-box;">\xE9<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-cce" style="box-sizing: border-box;">\u0301<span class="pl-pds" style="box-sizing: border-box;">";

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1

s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s2;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize();          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Essentially,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">normalize(..)```
&nbsp;takes a sequence like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"e\u0301"```
&nbsp;and normalizes it to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"\xE9"```
. Normalization can even combine multiple adjacent combining marks if there's a suitable Unicode character they combine to:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"o<span class="pl-cce" style="box-sizing: border-box;">\u0302<span class="pl-cce" style="box-sizing: border-box;">\u0300<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize(),
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ồ<span class="pl-pds" style="box-sizing: border-box;">";

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 3
s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1

s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== s3;                      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unfortunately, normalization isn't fully perfect here, either. If you have multiple combining marks modifying a single character, you may not get the length count you'd expect, because there may not be a single defined normalized character that represents the combination of all the marks. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-cce" style="box-sizing: border-box;">\u0301<span class="pl-cce" style="box-sizing: border-box;">\u0330<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s1 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ḛ́"

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The further you go down this rabbit hole, the more you realize that it's difficult to get one precise definition for "length." What we see visually rendered as a single character -- more precisely called a&nbsp;<em style="box-sizing: border-box;">grapheme</em>&nbsp;-- doesn't always strictly relate to a single "character" in the program processing sense.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Tip:</strong>&nbsp;If you want to see just how deep this rabbit hole goes, check out the "Grapheme Cluster Boundaries" algorithm (<a href="http://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://www.Unicode.org/reports/tr29/#Grapheme_Cluster_Boundaries</a>).<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-character-positioning" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#character-positioning" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Character Positioning</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similar to length complications, what does it actually mean to ask, "what is the character at position 2?" The naive pre-ES6 answer comes from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charAt(..)```
, which will not respect the atomicity of an astral character, nor will it take into account combining marks.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s1 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "abćd"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s2 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "abćd"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( s3 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ab𝒞d"

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "c"
s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"
s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "" <-- unprintable surrogate
s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">charAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "" <-- unprintable surrogate</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, is ES6 giving us a Unicode-aware verison of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charAt(..)```
? Unfortunately, no. At the time of this writing, there's a proposal for such a utility that's under consideration for post-ES6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But with what we explored in the previous section (and of course with the limitations noted thereof!), we can hack an ES6 answer:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize()][<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"
[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize()][<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"
[...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize()][<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝒞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Reminder of an earlier warning: constructing and exhausting an iterator each time you want to get at a single character is... very not ideal, performance wise. Let's hope we get a built-in and optimized utility for this soon, post-ES6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">What about a Unicode-aware version of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charCodeAt(..)```
&nbsp;utility? ES6 gives us&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">codePointAt(..)```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "107"

s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "107"

s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ).<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "1d49e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">What about the other direction? A Unicode-aware version of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.fromCharCode(..)```
&nbsp;is ES6's<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.fromCodePoint(..)```
:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x107 );      <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x1d49e );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝒞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So wait, can we just combine&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.fromCodePoint(..)```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">codePointAt(..)```
&nbsp;to get a better version of a Unicode-aware&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">charAt(..)```
&nbsp;from earlier? Yep!<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var s1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"abc<span class="pl-cce" style="box-sizing: border-box;">\u0301d<span class="pl-pds" style="box-sizing: border-box;">",
    s2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u0107d<span class="pl-pds" style="box-sizing: border-box;">",
    s3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ab<span class="pl-cce" style="box-sizing: border-box;">\u{1d49e}d<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( s1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ) );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( s2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ) );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ć"

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">fromCodePoint( s3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">normalize().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">codePointAt( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ) );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "𝒞"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's quite a few other string methods we haven't addressed here, including&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toUpperCase()```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toLowerCase()```
,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">substring(..)```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">indexOf(..)```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">slice(..)```
, and a dozen others. None of these have been changed or augmented for full Unicode awareness, so you should be very careful -- probably just avoid them! -- when working with strings containing astral symbols.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There are also several string methods that use regular expressions for their behavior, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">replace(..)```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">match(..)```
. Thankfully, ES6 brings Unicode awareness to regular expressions, as we covered in "Unicode Flag" earlier in this chapter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">OK, there we have it! JavaScript's Unicode string support is significantly better over pre-ES6 (though still not perfect) with the various additions we've just covered.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-unicode-identifier-names" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#unicode-identifier-names" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Unicode Identifier Names</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unicode can also be used in identifier names (variables, properties, etc.). Prior to ES6, you could do this with Unicode-escapes, like:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var \u03A9 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42;

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// same as: var Ω = 42;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As of ES6, you can also use the earlier explained code point escape syntax:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var \u{2B400} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42;

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// same as: var 𫐀 = 42;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a complex set of rules around exactly which Unicode characters are allowed. Furthermore, some are allowed only if they're not the first character of the identifier name.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Mathias Bynens has a great post (<a href="https://mathiasbynens.be/notes/javascript-identifiers-es6" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://mathiasbynens.be/notes/javascript-identifiers-es6</a>) on all the nitty-gritty details.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The reasons for using such unusual characters in identifier names are rather rare and academic. You typically won't be best served by writing code that relies on these esoteric capabilities.
#Number Literal Extensions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Number Literal Extensions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES5, number literals looked like the following -- the octal form was not officially specified, only allowed as an extension that browsers had come to de facto agreement on:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var dec <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42,
    oct <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">052,
    hex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x2a;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Though you are specifying a number in different bases, the number's mathematic value is what is stored, and the default output interpretation is always base-10. The three variables in the previous snippet all have the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">42```
&nbsp;value stored in them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To further illustrate that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">052```
&nbsp;was a nonstandard form extension, consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"42<span class="pl-pds" style="box-sizing: border-box;">" );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"052<span class="pl-pds" style="box-sizing: border-box;">" );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 52
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0x2a<span class="pl-pds" style="box-sizing: border-box;">" );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES5 continued to permit the browser-extended octal form (including such inconsistencies), except that in strict mode, the octal literal (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">052```
) form is disallowed. This restriction was done mainly because many developers had the habit (from other languages) of seemingly innocuously prefixing otherwise base-10 numbers with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
's for code alignment purposes, and then running into the accidental fact that they'd changed the number value entirely!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 continues the legacy of changes/variations to how number literals outside base-10 numbers can be represented. There's now an official octal form, an amended hexadecimal form, and a brand-new binary form. For web compatibility reasons, the old octal&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">052```
&nbsp;form will continue to be legal (though unspecified) in non-strict mode, but should really never be used anymore.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here are the new ES6 number literal forms:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var dec <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42,
    oct <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0o52,         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// or `0O52` :(
    hex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0x2a,         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// or `0X2a` :/
    bin <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0b101010;     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// or `0B101010` :/</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The only decimal form allowed is base-10. Octal, hexadecimal, and binary are all integer forms.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And the string representations of these forms are all able to be coerced/converted to their number equivalent:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"42<span class="pl-pds" style="box-sizing: border-box;">" );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0o52<span class="pl-pds" style="box-sizing: border-box;">" );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0x2a<span class="pl-pds" style="box-sizing: border-box;">" );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Number( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"0b101010<span class="pl-pds" style="box-sizing: border-box;">" );   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Though not strictly new to ES6, it's a little-known fact that you can actually go the opposite direction of conversion (well, sort of):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42;

a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString();           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "42" -- also `a.toString( 10 )`
a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">8 );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "52"
a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">16 );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "2a"
a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "101010"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In fact, you can represent a number this way in any base from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">2```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">36```
, though it'd be rare that you'd go outside the standard bases: 2, 8, 10, and 16.
#regular expressions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Regular Expressions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's face it: regular expressions haven't changed much in JS in a long time. So it's a great thing that they've finally learned a couple of new tricks in ES6. We'll briefly cover the additions here, but the overall topic of regular expressions is so dense that you'll need to turn to chapters/books dedicated to it (of which there are many!) if you need a refresher.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-unicode-flag" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#unicode-flag" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Unicode Flag</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We'll cover the topic of Unicode in more detail in "Unicode" later in this chapter. Here, we'll just look briefly at the new<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;flag for ES6+ regular expressions, which turns on Unicode matching for that expression.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">JavaScript strings are typically interpreted as sequences of 16-bit characters, which correspond to the characters in the<em style="box-sizing: border-box;">Basic Multilingual Plane (BMP)</em>&nbsp;(<a href="http://en.wikipedia.org/wiki/Plane_%28Unicode%29" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">http://en.wikipedia.org/wiki/Plane_%28Unicode%29</a>). But there are many UTF-16 characters that fall outside this range, and so strings may have these multibyte characters in them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, regular expressions could only match based on BMP characters, which means that those extended characters were treated as two separate characters for matching purposes. This is often not ideal.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, as of ES6, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;flag tells a regular expression to process a string with the intepretation of Unicode (UTF-16) characters, such that such an extended character will be matched as a single entity.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Despite the name implication, "UTF-16" doesn't strictly mean 16 bits. Modern Unicode uses 21 bits, and standards like UTF-8 and UTF-16 refer roughly to how many bits are used in the representation of a character.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">An example (straight from the ES6 specification): 𝄞 (the musical symbol G-clef) is Unicode point U+1D11E (0x1D11E).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If this character appears in a regular expression pattern (like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/𝄞/```
), the standard BMP interpretation would be that it's two separate characters (0xD834 and 0xDD1E) to match with. But the new ES6 Unicode-aware mode means that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/𝄞/u```
(or the escaped Unicode form&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/\u{1D11E}/u```
) will match&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"𝄞"```
&nbsp;in a string as a single matched character.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You might be wondering why this matters? In non-Unicode BMP mode, the pattern is treated as two separate characters, but would still find the match in a string with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"𝄞"```
&nbsp;character in it, as you can see if you try:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">/𝄞<span class="pl-pds" style="box-sizing: border-box;">/.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞-clef<span class="pl-pds" style="box-sizing: border-box;">" );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The length of the match is what matters. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.-clef<span class="pl-pds" style="box-sizing: border-box;">/ .<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞-clef<span class="pl-pds" style="box-sizing: border-box;">" );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.-clef<span class="pl-pds" style="box-sizing: border-box;">/u.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"𝄞-clef<span class="pl-pds" style="box-sizing: border-box;">" );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^.-clef```
&nbsp;in the pattern says to match only a single character at the beginning before the normal&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"-clef"```
&nbsp;text. In standard BMP mode, the match fails (two characters), but with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;Unicode mode flagged on, the match succeeds (one character).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's also important to note that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;makes quantifiers like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">+```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">*```
&nbsp;apply to the entire Unicode code point as a single character, not just the&nbsp;<em style="box-sizing: border-box;">lower surrogate</em>&nbsp;(aka rightmost half of the symbol) of the character. The same goes for Unicode characters appearing in character classes, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/[💩-💫]/u```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;There's plenty more nitty-gritty details about&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">u```
&nbsp;behavior in regular expressions, which Mathias Bynens (<a href="https://twitter.com/mathias" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://twitter.com/mathias</a>) has written extensively about (<a href="https://mathiasbynens.be/notes/es6-unicode-regex" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://mathiasbynens.be/notes/es6-unicode-regex</a>).<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-sticky-flag" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#sticky-flag" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Sticky Flag</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Another flag mode added to ES6 regular expressions is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
, which is often called "sticky mode."&nbsp;<em style="box-sizing: border-box;">Sticky</em>&nbsp;essentially means the regular expression has a virtual anchor at its beginning that keeps it rooted to matching at only the position indicated by the regular expression's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;property.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To illustrate, let's consider two regular expressions, the first without sticky mode and the second with:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/,
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"++foo++<span class="pl-pds" style="box-sizing: border-box;">";

re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- not updated

re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4;
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true -- ignored `lastIndex`
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 -- not updated</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Three things to observe about this snippet:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;doesn't pay any attention to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
's value, and always just performs its match from the beginning of the input string.</li><li style="box-sizing: border-box;">Because our pattern does not have a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;start-of-input anchor, the search for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"foo"```
&nbsp;is free to move ahead through the whole string looking for a match.</li><li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is not updated by&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, let's try a sticky mode regular expression:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/y,       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// <-- notice the `y` sticky flag
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"++foo++<span class="pl-pds" style="box-sizing: border-box;">";

re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false -- "foo" not found at `0`
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0

re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 5 -- updated to after previous match

re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- reset after previous match failure</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And so our new observations about sticky mode:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;uses&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;as the exact and only position in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">str```
&nbsp;to look to make a match. There is no moving ahead to look for the match -- it's either there at the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;position or not.</li><li style="box-sizing: border-box;">If a match is made,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;updates&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;to point to the character immediately following the match. If a match fails,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;resets&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;back to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Normal non-sticky patterns that aren't otherwise&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
-rooted to the start-of-input are free to move ahead in the input string looking for a match. But sticky mode restricts the pattern to matching just at the position of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As I suggested at the beginning of this section, another way of looking at this is that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;implies a virtual anchor at the beginning of the pattern that is relative (aka constrains the start of the match) to exactly the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;position.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;In previous literature on the topic, it has alternatively been asserted that this behavior is like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;implying a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
(start-of-input) anchor in the pattern. This is inaccurate. We'll explain in further detail in "Anchored Sticky" later.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-sticky-positioning" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#sticky-positioning" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Sticky Positioning</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It may seem strangely limiting that to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;for repeated matches, you have to manually ensure&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is in the exact right position, as it has no move-ahead capability for matching.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's one possible scenario: if you know that the match you care about is always going to be at a position that's a multiple of a number (e.g.,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">20```
, etc.), you can just construct a limited pattern matching what you care about, but then manually set&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;each time before match to those fixed positions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/f<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">..<span class="pl-pds" style="box-sizing: border-box;">/y,
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo       far       fad<span class="pl-pds" style="box-sizing: border-box;">";

str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["foo"]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10;
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["far"]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["fad"]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, if you're parsing a string that isn't formatted in fixed positions like that, figuring out what to set&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;to before each match is likely going to be untenable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a saving nuance to consider here.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;requires that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;be in the exact position for a match to occur. But it doesn't strictly require that&nbsp;<em style="box-sizing: border-box;">you</em>&nbsp;manually set&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Instead, you can construct your expressions in such a way that they capture in each main match everything before and after the thing you care about, up to right before the next thing you'll care to match.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;will set to the next character beyond the end of a match, if you've matched everything up to that point,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;will always be in the correct position for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;pattern to start from the next time.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;If you can't predict the structure of the input string in a sufficiently patterned way like that, this technique may not be suitable and you may not be able to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Having structured string input is likely the most practical scenario where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;will be capable of performing repeated matching throughout a string. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">\d<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+<span class="pl-cce" style="box-sizing: border-box; color: rgb(99, 163, 92); font-weight: bold;">\.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">\s(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*?)(?:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">\s<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">$)<span class="pl-pds" style="box-sizing: border-box;">/y
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"1. foo 2. bar 3. baz<span class="pl-pds" style="box-sizing: border-box;">";

str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "1. foo ", "foo" ]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 7 -- correct position!
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "2. bar ", "bar" ]

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 14 -- correct position!
str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["3. baz", "baz"]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This works because I knew something ahead of time about the structure of the input string: there is always a numeral prefix like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"1. "```
&nbsp;before the desired match (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"foo"```
, etc.), and either a space after it, or the end of the string (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">$```
&nbsp;anchor). So the regular expression I constructed captures all of that in each main match, and then I use a matching group&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( )```
so that the stuff I really care about is separated out for convenience.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">After the first match (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"1. foo "```
), the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">7```
, which is already the position needed to start the next match, for<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"2. bar "```
, and so on.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you're going to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;sticky mode for repeated matches, you'll probably want to look for opportunities to have<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;automatically positioned as we've just demonstrated.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-sticky-versus-global" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#sticky-versus-global" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Sticky Versus Global</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Some readers may be aware that you can emulate something like this&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
-relative matching with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;global match flag and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">exec(..)```
&nbsp;method, as so:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/o<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.<span class="pl-pds" style="box-sizing: border-box;">/g,        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// <-- look, `g`!
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foot book more<span class="pl-pds" style="box-sizing: border-box;">";

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["oot"]
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["ook"]
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 9

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["or"]
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 13

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">exec( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// null -- no more matches!
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- starts over now!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While it's true that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;pattern matches with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">exec(..)```
&nbsp;start their matching from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
's current value, and also update&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;after each match (or failure), this is not the same thing as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
's behavior.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Notice in the previous snippet that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"ook"```
, located at position&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">6```
, was matched and found by the second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">exec(..)```
&nbsp;call, even though at the time,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;was&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">4```
&nbsp;(from the end of the previous match). Why? Because as we said earlier, non-sticky matches are free to move ahead in their matching. A sticky mode expression would have failed here, because it would not be allowed to move ahead.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In addition to perhaps undesired move-ahead matching behavior, another downside to just using&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;instead of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;is that<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">g```
&nbsp;changes the behavior of some matching methods, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">str.match(re)```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/o<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.<span class="pl-pds" style="box-sizing: border-box;">/g,        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// <-- look, `g`!
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foot book more<span class="pl-pds" style="box-sizing: border-box;">";

str.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match( re );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ["oot","ook","or"]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">See how all the matches were returned at once? Sometimes that's OK, but sometimes that's not what you want.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;sticky flag will give you one-at-a-time progressive matching with utilities like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">test(..)```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">match(..)```
. Just make sure the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is always in the right position for each match!<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-anchored-sticky" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#anchored-sticky" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Anchored Sticky</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As we warned earlier, it's inaccurate to think of sticky mode as implying a pattern starts with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;anchor has a distinct meaning in regular expressions, which is&nbsp;<em style="box-sizing: border-box;">not altered</em>&nbsp;by sticky mode.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;is an anchor that&nbsp;<em style="box-sizing: border-box;">always</em>&nbsp;refers to the beginning of the input, and&nbsp;<em style="box-sizing: border-box;">is not</em>&nbsp;in any way relative to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Besides poor/inaccurate documentation on this topic, the confusion is unfortunately strengthened further because an older pre-ES6 experiment with sticky mode in Firefox&nbsp;<em style="box-sizing: border-box;">did</em>&nbsp;make&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;relative to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
, so that behavior has been around for years.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 elected not to do it that way.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;in a pattern means start-of-input absolutely and only.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As a consequence, a pattern like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/^foo/y```
&nbsp;will always and only find a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"foo"```
&nbsp;match at the beginning of a string,&nbsp;<em style="box-sizing: border-box;">if it's allowed to match there</em>. If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is not&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
, the match will fail. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">^foo<span class="pl-pds" style="box-sizing: border-box;">/y,
    str <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">";

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- reset after failure

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1;
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">test( str );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// false -- failed for positioning
re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">lastIndex;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 -- reset after failure</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Bottom line:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;plus&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;plus&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex > 0```
&nbsp;is an incompatible combination that will always cause a failed match.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;While&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;does not alter the meaning of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;in any way, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">m```
&nbsp;multiline mode&nbsp;<em style="box-sizing: border-box;">does</em>, such that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
&nbsp;means start-of-input&nbsp;<em style="box-sizing: border-box;">or</em>&nbsp;start of text after a newline. So, if you combine&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">m```
&nbsp;flags together for a pattern, you can find multiple&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">^```
-rooted matches in a string. But remember: because it's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;sticky, you'll have to make sure&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">lastIndex```
&nbsp;is pointing at the correct new line position (likely by matching to the end of the line) each subsequent time, or no subsequent matches will be made.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-regular-expression-flags" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#regular-expression-flags" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Regular Expression&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">flags```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, if you wanted to examine a regular expression object to see what flags it had applied, you needed to parse them out -- ironically, probably with another regular expression -- from the content of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">source```
&nbsp;property, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/ig;

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString();          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "/foo/ig"

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var flags <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toString().<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">match(<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/<span class="pl-cce" style="box-sizing: border-box; color: rgb(99, 163, 92); font-weight: bold;">\/(<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">[gim]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">$<span class="pl-pds" style="box-sizing: border-box;">/ )[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1];

flags;                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "ig"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As of ES6, you can now get these values directly, with the new&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">flags```
&nbsp;property:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-pds" style="box-sizing: border-box;">/ig;

re.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "gi"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's a small nuance, but the ES6 specification calls for the expression's flags to be listed in this order:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"gimuy"```
, regardless of what order the original pattern was specified with. That's the reason for the difference between&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">/ig```
&nbsp;and<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"gi"```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">No, the order of flags specified or listed doesn't matter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Another tweak from ES6 is that the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">RegExp(..)```
&nbsp;constructor is now&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">flags```
-aware if you pass it an existing regular expression:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-sr" style="box-sizing: border-box; color: rgb(24, 54, 145);"> <span class="pl-pds" style="box-sizing: border-box;">/foo<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*<span class="pl-pds" style="box-sizing: border-box;">/y;
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">source;                         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "foo*"
re1.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "y"

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">new <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">RegExp( re1 );
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">source;                         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "foo*"
re2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "y"

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var re3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">new <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">RegExp( re1, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ig<span class="pl-pds" style="box-sizing: border-box;">" );
re3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">source;                         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "foo*"
re3.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">flags;                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "gi"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Prior to ES6, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">re3```
&nbsp;construction would throw an error, but as of ES6 you can override the flags when duplicating.
#Arrow Functions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Arrow Functions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We've touched on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding complications with functions earlier in this chapter, and they're covered at length in the<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series. It's important to understand the frustrations that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
-based programming with normal functions brings, because that is the primary motivation for the new ES6&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function feature.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's first illustrate what an arrow function looks like, as compared to normal functions:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y;
}

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// versus

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var foo <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The arrow function definition consists of a parameter list (of zero or more parameters, and surrounding&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( .. )```
&nbsp;if there's not exactly one parameter), followed by the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;marker, followed by a function body.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, in the previous snippet, the arrow function is just the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">(x,y) => x + y```
&nbsp;part, and that function reference happens to be assigned to the variable&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The body only needs to be enclosed by&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;if there's more than one expression, or if the body consists of a non-expression statement. If there's only one expression, and you omit the surrounding&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
, there's an implied&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
in front of the expression, as illustrated in the previous snippet.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's some other arrow function variations to consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var f1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= ()<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">12;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var f2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=> x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var f3 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y;
    y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">++;
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3;
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ z) / <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Arrow functions are&nbsp;<em style="box-sizing: border-box;">always</em>&nbsp;function expressions; there is no arrow function declaration. It also should be clear that they are anonymous function expressions -- they have no named reference for the purposes of recursion or event binding/unbinding -- though "Function Names" in Chapter 7 will describe ES6's function name inference rules for debugging purposes.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;All the capabilities of normal function parameters are available to arrow functions, including default values, destructuring, rest parameters, and so on.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Arrow functions have a nice, shorter syntax, which makes them on the surface very attractive for writing terser code. Indeed, nearly all literature on ES6 (other than the titles in this series) seems to immediately and exclusively adopt the arrow function as "the new function."<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It is telling that nearly all examples in discussion of arrow functions are short single statement utilities, such as those passed as callbacks to various utilities. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5];

a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">map( v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=> v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [2,4,6,8,10]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In those cases, where you have such inline function expressions, and they fit the pattern of computing a quick calculation in a single statement and returning that result, arrow functions indeed look to be an attractive and lightweight alternative to the more verbose&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
&nbsp;keyword and syntax.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Most people tend to&nbsp;<em style="box-sizing: border-box;">ooh and aah</em>&nbsp;at nice terse examples like that, as I imagine you just did!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, I would caution you that it would seem to me somewhat a misapplication of this feature to use arrow function syntax with otherwise normal, multistatement functions, especially those that would otherwise be naturally expressed as function declarations.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">dollabillsyall(..)```
&nbsp;string literal tag function from earlier in this chapter -- let's change it to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;syntax:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var dollabillsyall <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> =>
    strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">reduce( (<span class="pl-smi" style="box-sizing: border-box;">s,<span class="pl-smi" style="box-sizing: border-box;">v,<span class="pl-smi" style="box-sizing: border-box;">idx)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">== <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"number<span class="pl-pds" style="box-sizing: border-box;">") {
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// look, also using interpolated
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// string literals!
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`$<span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toFixed( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 )<span class="pl-pse" style="box-sizing: border-box;">}<span class="pl-pds" style="box-sizing: border-box;">`;
            }
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">else {
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1];
            }
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ v;
    }, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this example, the only modifications I made were the removal of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
, and some&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
, and then the insertion of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;and a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var```
. Is this a significant improvement in the readability of the code? Meh.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">I'd actually argue that the lack of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;and outer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;partially obscures the fact that the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">reduce(..)```
&nbsp;call is the only statement in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">dollabillsyall(..)```
&nbsp;function and that its result is the intended result of the call. Also, the trained eye that is so used to hunting for the word&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
&nbsp;in code to find scope boundaries now needs to look for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
marker, which can definitely be harder to find in the thick of the code.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While not a hard-and-fast rule, I'd say that the readability gains from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function conversion are inversely proportional to the length of the function being converted. The longer the function, the less&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;helps; the shorter the function, the more&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;can shine.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">I think it's probably more sensible and reasonable to adopt&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;for the places in code where you do need short inline function expressions, but leave your normal-length main functions as is.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-not-just-shorter-syntax-but-this" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#not-just-shorter-syntax-but-this" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Not Just Shorter Syntax, But&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Most of the popular attention toward&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;has been on saving those precious keystrokes by dropping&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function```
,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;from your code.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But there's a big detail we've skipped over so far. I said at the beginning of the section that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;functions are closely related to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding behavior. In fact,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions are&nbsp;<em style="box-sizing: border-box;">primarily designed</em>&nbsp;to alter&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;behavior in a specific way, solving a particular and common pain point with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
-aware coding.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The saving of keystrokes is a red herring, a misleading sideshow at best.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's revisit another example from earlier in this chapter:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var self <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this;

        btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
            self.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
        }, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We used the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;hack, and then referenced&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">self.makeRequest(..)```
, because inside the callback function we're passing to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">addEventListener(..)```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding will not be the same as it is in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">makeRequest(..)```
&nbsp;itself. In other words, because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;bindings are dynamic, we fall back to the predictability of lexical scope via the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">self```
&nbsp;variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Herein we finally can see the primary design characteristic of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions. Inside arrow functions, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
binding is not dynamic, but is instead lexical. In the previous snippet, if we used an arrow function for the callback,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;will be predictably what we wanted it to be.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", ()<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
            <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
        }, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;in the arrow function callback in the previous snippet now points to the same value as in the enclosing<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">makeRequest(..)```
&nbsp;function. In other words,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is a syntactic stand-in for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In cases where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;(or, alternatively, a function&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.bind(this)```
&nbsp;call) would normally be helpful,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions are a nicer alternative operating on the same prinicple. Sounds great, right?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Not quite so simple.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;replaces&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.bind(this)```
&nbsp;and it helps, guess what happens if you use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;with a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
-aware function that&nbsp;<em style="box-sizing: border-box;">doesn't</em>&nbsp;need&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;to work? You might be able to guess that it's going to mess things up. Yeah.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: (..)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
        <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">helper(..);
    },
    helper<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: (..)<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);"> => {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
};

controller.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Although we invoke as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller.makeRequest(..)```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this.helper```
&nbsp;reference fails, because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;here doesn't point to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller```
&nbsp;as it normally would. Where does it point? It lexically inherits&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;from the surrounding scope. In this previous snippet, that's the global scope, where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;points to the global object. Ugh.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In addition to lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
, arrow functions also have lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
&nbsp;-- they don't have their own&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
&nbsp;array but instead inherit from their parent -- as well as lexical&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">new.target```
&nbsp;(see "Classes" in Chapter 3).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So now we can conclude a more nuanced set of rules for when&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is appropriate and not:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;">If you have a short, single-statement inline function expression, where the only statement is a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;of some computed value,&nbsp;<em style="box-sizing: border-box;">and</em>&nbsp;that function doesn't already make a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;reference inside it,&nbsp;<em style="box-sizing: border-box;">and</em>&nbsp;there's no self-reference (recursion, event binding/unbinding),&nbsp;<em style="box-sizing: border-box;">and</em>&nbsp;you don't reasonably expect the function to ever be that way, you can probably safely refactor it to be an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function.</li><li style="box-sizing: border-box;">If you have an inner function expression that's relying on a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
&nbsp;hack or a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.bind(this)```
&nbsp;call on it in the enclosing function to ensure proper&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding, that inner function expression can probably safely become an<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function.</li><li style="box-sizing: border-box;">If you have an inner function expression that's relying on something like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var args = Array.prototype.slice.call(arguments)```
&nbsp;in the enclosing function to make a lexical copy of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
, that inner function expression can probably safely become an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function.</li><li style="box-sizing: border-box;">For everything else -- normal function declarations, longer multistatment function expressions, functions that need a lexical name identifier self-reference (recursion, etc.), and any other function that doesn't fit the previous characteristics -- you should probably avoid&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;function syntax.</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Bottom line:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is about lexical binding of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
. These are intentional features designed to fix some common problems, not bugs, quirks, or mistakes in ES6.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Don't believe any hype that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;is primarily, or even mostly, about fewer keystrokes. Whether you save keystrokes or waste them, you should know exactly what you are intentionally doing with every character typed.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Tip:</strong>&nbsp;If you have a function that for any of these articulated reasons is not a good match for an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow function, but it's being declared as part of an object literal, recall from "Concise Methods" earlier in this chapter that there's another option for shorter function syntax.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you prefer a visual decision chart for how/why to pick an arrow function:<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><a href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/fig1.png" target="_blank" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;"><img src="https://github.com/getify/You-Dont-Know-JS/raw/master/es6%20&amp;%20beyond/fig1.png" style="box-sizing: border-box;"></a><h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-forof-loops" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#forof-loops" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1; background-color: transparent;"></a><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;Loops</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Joining the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;loops from the JavaScript we're all familiar with, ES6 adds a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loop, which loops over the set of values produced by an&nbsp;<em style="box-sizing: border-box;">iterator</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The value you loop over with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;must be an&nbsp;<em style="box-sizing: border-box;">iterable</em>, or it must be a value which can be coerced/boxed to an object (see the&nbsp;<em style="box-sizing: border-box;">Types &amp; Grammar</em>&nbsp;title of this series) that is an iterable. An iterable is simply an object that is able to produce an iterator, which the loop then uses.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's compare&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;to illustrate the difference:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"a<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"c<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"d<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-pds" style="box-sizing: border-box;">"];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">in a) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( idx );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 0 1 2 3 4

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var val <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of a) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( val );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "a" "b" "c" "d" "e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;loops over the keys/indexes in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;array, while&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loops over the values in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's the pre-ES6 version of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;from that previous snippet:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"a<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"c<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"d<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-pds" style="box-sizing: border-box;">"],
    k <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">keys( a );

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var val, i <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0; i <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">< k.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length; i<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">++) {
    val <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a[ k[i] ];
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( val );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "a" "b" "c" "d" "e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And here's the ES6 but non-<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;equivalent, which also gives a glimpse at manually iterating an iterator (see "Iterators" in Chapter 3):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"a<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"c<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"d<span class="pl-pds" style="box-sizing: border-box;">",<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"e<span class="pl-pds" style="box-sizing: border-box;">"];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var val, ret, it <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a[Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">iterator]();
    (ret <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= it.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">next()) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">&amp;&amp; <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!ret.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">done;
) {
    val <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= ret.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">value;
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( val );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "a" "b" "c" "d" "e"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Under the covers, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loop asks the iterable for an iterator (using the built-in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.iterator```
; see "Well-Known Symbols" in Chapter 7), then it repeatedly calls the iterator and assigns its produced value to the loop iteration variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Standard built-in values in JavaScript that are by default iterables (or provide them) include:<ul style="box-sizing: border-box; padding-left: 2em; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><li style="box-sizing: border-box;">Arrays</li><li style="box-sizing: border-box;">Strings</li><li style="box-sizing: border-box;">Generators (see Chapter 3)</li><li style="box-sizing: border-box;">Collections / TypedArrays (see Chapter 5)</li></ul><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Plain objects are not by default suitable for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;looping. That's because they don't have a default iterator, which is intentional, not a mistake. However, we won't go any further into those nuanced reasonings here. In "Iterators" in Chapter 3, we'll see how to define iterators for our own objects, which lets&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loop over any object to get a set of values we define.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's how to loop over the characters in a primitive string:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var c <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"hello<span class="pl-pds" style="box-sizing: border-box;">") {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( c );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "h" "e" "l" "l" "o"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"hello"```
&nbsp;primitive string value is coerced/boxed to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String```
&nbsp;object wrapper equivalent, which is an iterable by default.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for (XYZ of ABC)..```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">XYZ```
&nbsp;clause can either be an assignment expression or a declaration, identical to that same clause in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..in```
&nbsp;loops. So you can do stuff like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for (o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3]) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">for ({x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">of [ {x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1}, {x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2}, {x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3} ]) {
  <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a );
}
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">for..of```
&nbsp;loops can be prematurely stopped, just like other loops, with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">break```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">continue```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;(if in a function), and thrown exceptions. In any of these cases, the iterator's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return(..)```
&nbsp;function is automatically called (if one exists) to let the iterator perform cleanup tasks, if necessary.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;See "Iterators" in Chapter 3 for more complete coverage on iterables and iterators.
#Template Literals
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Template Literals</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">At the very outset of this section, I'm going to have to call out the name of this ES6 feature as being awfully... misleading, depending on your experiences with what the word&nbsp;<em style="box-sizing: border-box;">template</em>&nbsp;means.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Many developers think of templates as being reusable renderable pieces of text, such as the capability provided by most template engines (Mustache, Handlebars, etc.). ES6's use of the word&nbsp;<em style="box-sizing: border-box;">template</em>&nbsp;would imply something similar, like a way to declare inline template literals that can be re-rendered. However, that's not at all the right way to think about this feature.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, before we go on, I'm renaming to what it should have been called:&nbsp;<em style="box-sizing: border-box;">interpolated string literals</em>&nbsp;(or&nbsp;<em style="box-sizing: border-box;">interpoliterals</em>&nbsp;for short).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You're already well aware of declaring string literals with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">'```
&nbsp;delimiters, and you also know that these are not&nbsp;<em style="box-sizing: border-box;">smart strings</em>&nbsp;(as some languages have), where the contents would be parsed for interpolation expressions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, ES6 introduces a new type of string literal, using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">````
&nbsp;backtick as the delimiter. These string literals allow basic string interpolation expressions to be embedded, which are then automatically parsed and evaluated.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here's the old pre-ES6 way:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Kyle<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var greeting <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Hello <span class="pl-pds" style="box-sizing: border-box;">" <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"!<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( greeting );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Hello Kyle!"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof greeting );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "string"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, consider the new ES6 way:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Kyle<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var greeting <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${name<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( greeting );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Hello Kyle!"
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof greeting );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "string"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, we used the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;around a series of characters, which are interpreted as a string literal, but any expressions of the form&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">${..}```
&nbsp;are parsed and evaluated inline immediately. The fancy term for such parsing and evaluating is&nbsp;<em style="box-sizing: border-box;">interpolation</em>&nbsp;(much more accurate than templating).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The result of the interpolated string literal expression is just a plain old normal string, assigned to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">greeting```
&nbsp;variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">typeof greeting == "string"```
&nbsp;illustrates why it's important not to think of these entities as special template values, as you cannot assign the unevaluated form of the literal to something and reuse it. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;string literal is more like an IIFE in the sense that it's automatically evaluated inline. The result of a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;string literal is, simply, just a string.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">One really nice benefit of interpolated string literals is they are allowed to split across multiple lines:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Now is the time for all good men
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">to come to the aid of their
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">country!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Now is the time for all good men
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to come to the aid of their
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// country!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The line breaks (newlines) in the interpolated string literal were preserved in the string value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Unless appearing as explicit escape sequences in the literal value, the value of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\r```
&nbsp;carriage return character (code point&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000D```
) or the value of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\r\n```
&nbsp;carriage return + line feed sequence (code points&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000D```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000A```
) are both normalized to a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\n```
&nbsp;line feed character (code point&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">U+000A```
). Don't worry though; this normalization is rare and would likely only happen if copy-pasting text into your JS file.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-interpolated-expressions" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#interpolated-expressions" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Interpolated Expressions</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Any valid expression is allowed to appear inside&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">${..}```
&nbsp;in an interpolated string literal, including function calls, inline function expression calls, and even other interpolated string literals!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">upper(<span class="pl-smi" style="box-sizing: border-box;">s) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toUpperCase();
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var who <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"reader<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`A very <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">upper( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"warm<span class="pl-pds" style="box-sizing: border-box;">" )<span class="pl-pse" style="box-sizing: border-box;">} welcome
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">to all of you <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">upper( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`<span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${who<span class="pl-pse" style="box-sizing: border-box;">}s<span class="pl-pds" style="box-sizing: border-box;">` )<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// A very WARM welcome
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to all of you READERS!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here, the inner&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`${who}s````
&nbsp;interpolated string literal was a little bit nicer convenience for us when combining the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">who```
variable with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"s"```
&nbsp;string, as opposed to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">who + "s"```
. There will be cases that nesting interpolated string literals is helpful, but be wary if you find yourself doing that kind of thing often, or if you find yourself nesting several levels deep.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If that's the case, the odds are good that your string value production could benefit from some abstractions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;As a word of caution, be very careful about the readability of your code with such new found power. Just like with default value expressions and destructuring assignment expressions, just because you&nbsp;<em style="box-sizing: border-box;">can</em>&nbsp;do something doesn't mean you&nbsp;<em style="box-sizing: border-box;">should</em>&nbsp;do it. Never go so overboard with new ES6 tricks that your code becomes more clever than you or your other team members.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-expression-scope" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#expression-scope" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Expression Scope</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">One quick note about the scope that is used to resolve variables in expressions. I mentioned earlier that an interpolated string literal is kind of like an IIFE, and it turns out thinking about it like that explains the scoping behavior as well.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">str) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">";
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( str );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">";
    <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello from <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${name<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">` );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"global<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "Hello from bar!"</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">At the moment the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
&nbsp;string literal is expressed, inside the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
&nbsp;function, the scope available to it finds&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
's<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;variable with value&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"bar"```
. Neither the global&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;nor&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">name```
&nbsp;matter. In other words, an interpolated string literal is just lexically scoped where it appears, not dynamically scoped in any way.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-tagged-template-literals" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#tagged-template-literals" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Tagged Template Literals</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Again, renaming the feature for sanity sake:&nbsp;<em style="box-sizing: border-box;">tagged string literals</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To be honest, this is one of the cooler tricks that ES6 offers. It may seem a little strange, and perhaps not all that generally practical at first. But once you've spent some time with it, tagged string literals may just surprise you in their usefulness.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings );
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( values );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"awesome<span class="pl-pds" style="box-sizing: border-box;">";

foo<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Everything is <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${desc<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Everything is ", "!"]
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "awesome" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's take a moment to consider what's happening in the previous snippet. First, the most jarring thing that jumps out is<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo`Everything...`;```
. That doesn't look like anything we've seen before. What is it?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's essentially a special kind of function call that doesn't need the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( .. )```
. The&nbsp;<em style="box-sizing: border-box;">tag</em>&nbsp;-- the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo```
&nbsp;part before the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">`..````
string literal -- is a function value that should be called. Actually, it can be any expression that results in a function, even a function call that returns another function, like:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings );
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( values );
    }
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"awesome<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar()<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Everything is <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${desc<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Everything is ", "!"]
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "awesome" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But what gets passed to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;function when invoked as a tag for a string literal?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The first argument -- we called it&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;-- is an array of all the plain strings (the stuff between any interpolated expressions). We get two values in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;array:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"Everything is "```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"!"```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For convenience sake in our example, we then gather up all subsequent arguments into an array called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;gather/rest operator (see the "Spread/Rest" section earlier in this chapter), though you could of course have left them as individual named parameters following the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;parameter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The argument(s) gathered into our&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;array are the results of the already-evaluated interpolation expressions found in the string literal. So obviously the only element in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;in our example is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"awesome"```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can think of these two arrays as: the values in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;are the separators if you were to splice them in between the values in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
, and then if you joined everything together, you'd get the complete interpolated string value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">A tagged string literal is like a processing step after the interpolation expressions are evaluated but before the final string value is compiled, allowing you more control over generating the string from the literal.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Typically, the string literal tag function (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;in the previous snippets) should compute an appropriate string value and return it, so that you can use the tagged string literal as a value just like untagged string literals:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">tag(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">reduce( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">s,<span class="pl-smi" style="box-sizing: border-box;">v,<span class="pl-smi" style="box-sizing: border-box;">idx){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ (idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">") <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ v;
    }, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">" );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var desc <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"awesome<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tag<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Everything is <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${desc<span class="pl-pse" style="box-sizing: border-box;">}!<span class="pl-pds" style="box-sizing: border-box;">`;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Everything is awesome!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this snippet,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tag(..)```
&nbsp;is a pass-through operation, in that it doesn't perform any special modifications, but just uses<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">reduce(..)```
&nbsp;to loop over and splice/interleave&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;together the same way an untagged string literal would have done.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So what are some practical uses? There are many advanced ones that are beyond our scope to discuss here. But here's a simple idea that formats numbers as U.S. dollars (sort of like basic localization):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">dollabillsyall(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">reduce( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">s,<span class="pl-smi" style="box-sizing: border-box;">v,<span class="pl-smi" style="box-sizing: border-box;">idx){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (idx <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">typeof values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">== <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"number<span class="pl-pds" style="box-sizing: border-box;">") {
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// look, also using interpolated
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// string literals!
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`$<span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1].<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toFixed( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 )<span class="pl-pse" style="box-sizing: border-box;">}<span class="pl-pds" style="box-sizing: border-box;">`;
            }
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">else {
                s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+= values[idx<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">-<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1];
            }
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return s <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ v;
    }, <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"<span class="pl-pds" style="box-sizing: border-box;">" );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var amt1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11.99,
    amt2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= amt1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">* <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1.08,
    name <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"Kyle<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var text <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= dollabillsyall
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Thanks for your purchase, <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${name<span class="pl-pse" style="box-sizing: border-box;">}! Your
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">product cost was <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${amt1<span class="pl-pse" style="box-sizing: border-box;">}, which with tax
<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);">comes out to <span class="pl-s1" style="box-sizing: border-box; color: rgb(51, 51, 51);"><span class="pl-pse" style="box-sizing: border-box;">${amt2<span class="pl-pse" style="box-sizing: border-box;">}.<span class="pl-pds" style="box-sizing: border-box;">`

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( text );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Thanks for your purchase, Kyle! Your
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// product cost was $11.99, which with tax
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// comes out to $12.95.</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">number```
&nbsp;value is encountered in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">values```
&nbsp;array, we put&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"$"```
&nbsp;in front of it and format it to two decimal places with<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">toFixed(2)```
. Otherwise, we let the value pass-through untouched.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-raw-strings" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#raw-strings" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Raw Strings</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the previous snippets, our tag functions receive the first argument we called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
, which is an array. But there's an additional bit of data included: the raw unprocessed versions of all the strings. You can access those raw string values using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">.raw```
&nbsp;property, like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">showraw(<span class="pl-smi" style="box-sizing: border-box;">strings, ...<span class="pl-smi" style="box-sizing: border-box;">values) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings );
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( strings.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">raw );
}

showraw<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">`;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Hello
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// World" ]
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [ "Hello\nWorld" ]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The raw version of the value preserves the raw escaped&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\n```
&nbsp;sequence (the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">\```
&nbsp;and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">n```
&nbsp;are separate characters), while the processed version considers it a single newline character. However, the earlier mentioned line-ending normalization is applied to both values.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 comes with a built-in function that can be used as a string literal tag:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">String.raw(..)```
. It simply passes through the raw versions of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strings```
&nbsp;values:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">` );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Hello
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// World

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">raw<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">` );
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// Hello\nWorld

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">String.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">raw<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">`Hello<span class="pl-cce" style="box-sizing: border-box;">\nWorld<span class="pl-pds" style="box-sizing: border-box;">`.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">length;
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 12</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Other uses for string literal tags included special processing for internationalization, localization, and more!
#Object Literal Extensions
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Object Literal Extensions</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 adds a number of important convenience extensions to the humble&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;object literal.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-concise-properties" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#concise-properties" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Concise Properties</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You're certainly familiar with declaring object literals in this form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,
    o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x,
        y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y
    };</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If it's always felt redundant to say&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: x```
&nbsp;all over, there's good news. If you need to define a property that is the same name as a lexical identifier, you can shorten it from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: x```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,
    o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        x,
        y
    };</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-concise-methods" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#concise-methods" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Concise Methods</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In a similar spirit to concise properties we just examined, functions attached to properties in object literals also have a concise form, for convenience.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The old way:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    },
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">And as of ES6:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">x() {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    },
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">y() {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;While&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x() { .. }```
&nbsp;seems to just be shorthand for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: function(){ .. }```
, concise methods have special behaviors that their older counterparts don't; specifically, the allowance for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;(see "Object&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
" later in this chapter).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Generators (see Chapter 4) also have a concise method form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() { .. }
};</pre><h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-concisely-unnamed" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#concisely-unnamed" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Concisely Unnamed</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">While that convenience shorthand is quite attractive, there's a subtle gotcha to be aware of. To illustrate, let's examine pre-ES6 code like the following, which you might try to refactor to use concise methods:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">runSomething(<span class="pl-smi" style="box-sizing: border-box;">o) {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Math.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">random(),
        y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Math.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">random();

    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> y) {
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// recursively call with `x`
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// and `y` swapped
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( y, x );
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">- x;
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This obviously silly code just generates two random numbers and subtracts the smaller from the bigger. But what's important here isn't what it does, but rather how it's defined. Let's focus on the object literal and function definition, as we see here:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Why do we say both&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something:```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function something```
? Isn't that redundant? Actually, no, both are needed for different purposes. The property&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;is how we can call&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o.something(..)```
, sort of like its public name. But the second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;is a lexical name to refer to the function from inside itself, for recursion purposes.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Can you see why the line&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return something(y,x)```
&nbsp;needs the name&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;to refer to the function? There's no lexical name for the object, such that it could have said&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return o.something(y,x)```
&nbsp;or something of that sort.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That's actually a pretty common practice when the object literal does have an identifying name, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
        controller.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Is this a good idea? Perhaps, perhaps not. You're assuming that the name&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller```
&nbsp;will always point to the object in question. But it very well may not -- the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">makeRequest(..)```
&nbsp;function doesn't control the outer code and so can't force that to be the case. This could come back to bite you.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Others prefer to use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;to define such things:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
        <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That looks fine, and should work if you always invoke the method as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller.makeRequest(..)```
. But you now have a<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding gotcha if you do something like:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", controller.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, you can solve that by passing&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">controller.makeRequest.bind(controller)```
&nbsp;as the handler reference to bind the event to. But yuck -- it isn't very appealing.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or what if your inner&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this.makeRequest(..)```
&nbsp;call needs to be made from a nested function? You'll have another&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
binding hazard, which people will often solve with the hacky&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var self = this```
, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var controller <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">makeRequest<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var self <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this;

        btn.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">addEventListener( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"click<span class="pl-pds" style="box-sizing: border-box;">", <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){
            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
            self.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">makeRequest(..);
        }, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false );
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">More yuck.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;For more information on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;binding rules and gotchas, see Chapters 1-2 of the&nbsp;<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">OK, what does all this have to do with concise methods? Recall our&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something(..)```
&nbsp;method definition:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;here provides a super convenient lexical identifier that will always point to the function itself, giving us the perfect reference for recursion, event binding/unbinding, and so on -- no messing around with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">this```
&nbsp;or trying to use an untrustable object reference.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Great!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, now we try to refactor that function reference to this ES6 concise method form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> y) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( y, x );
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">- x;
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Seems fine at first glance, except this code will break. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return something(..)```
&nbsp;call will not find a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
identifier, so you'll get a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">ReferenceError```
. Oops. But why?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The above ES6 snippet is interpreted as meaning:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">runSomething( {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">something<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">> y) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">something( y, x );
        }

        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">- x;
    }
} );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Look closely. Do you see the problem? The concise method definition implies&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something: function(x,y)```
. See how the second&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something```
&nbsp;we were relying on has been omitted? In other words, concise methods imply anonymous function expressions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Yeah, yuck.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;You may be tempted to think that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=>```
&nbsp;arrow functions are a good solution here, but they're equally insufficient, as they're also anonymous function expressions. We'll cover them in "Arrow Functions" later in this chapter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The partially redeeming news is that our&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something(x,y)```
&nbsp;concise method won't be totally anonymous. See "Function Names" in Chapter 7 for information about ES6 function name inference rules. That won't help us for our recursion, but it helps with debugging at least.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So what are we left to conclude about concise methods? They're short and sweet, and a nice convenience. But you should only use them if you're never going to need them to do recursion or event binding/unbinding. Otherwise, stick to your old-school&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">something: function something(..)```
&nbsp;method definitions.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">A lot of your methods are probably going to benefit from concise method definitions, so that's great news! Just be careful of the few where there's an un-naming hazard.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-es5-gettersetter" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#es5-gettersetter" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>ES5 Getter/Setter</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Technically, ES5 defined getter/setter literals forms, but they didn't seem to get used much, mostly due to the lack of transpilers to handle that new syntax (the only major new syntax added in ES5, really). So while it's not a new ES6 feature, we'll briefly refresh on that form, as it's probably going to be much more useful with ES6 going forward.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    __id<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10,
    get <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">id() { <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">++; },
    set <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">id(<span class="pl-smi" style="box-sizing: border-box;">v) { <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">this.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= v; }
}

o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 11
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">id;           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 20

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// and:
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id;         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 21
o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">__id;         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 21 -- still!</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">These getter and setter literal forms are also present in classes; see Chapter 3.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;It may not be obvious, but the setter literal must have exactly one declared parameter; omitting it or listing others is illegal syntax. The single required parameter&nbsp;<em style="box-sizing: border-box;">can</em>&nbsp;use destructuring and defaults (e.g.,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">set id({ id: v = 0 }) { .. }```
), but the gather/rest&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is not allowed (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">set id(...v) { .. }```
).<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-computed-property-names" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#computed-property-names" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Computed Property Names</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You've probably been in a situation like the following snippet, where you have one or more property names that come from some sort of expression and thus can't be put into the object literal:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"user_<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">baz<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. }
};

o[ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">" ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. };
o[ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">" ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. };
..</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 adds a syntax to the object literal definition which allows you to specify an expression that should be computed, whose result is the property name assigned. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"user_<span class="pl-pds" style="box-sizing: border-box;">";

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">baz<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. },
    [ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"foo<span class="pl-pds" style="box-sizing: border-box;">" ]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. },
    [ prefix <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar<span class="pl-pds" style="box-sizing: border-box;">" ]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(..){ .. }
    ..
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Any valid expression can appear inside the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
&nbsp;that sits in the property name position of the object literal definition.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Probably the most common use of computed property names will be with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol```
s (which we cover in "Symbols" later in this chapter), such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    [Symbol.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">toStringTag]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"really cool thing<span class="pl-pds" style="box-sizing: border-box;">",
    ..
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Symbol.toStringTag```
&nbsp;is a special built-in value, which we evaluate with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
&nbsp;syntax, so we can assign the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"really cool thing"```
&nbsp;value to the special property name.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Computed property names can also appear as the name of a concise method or a concise generator:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    [<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"f<span class="pl-pds" style="box-sizing: border-box;">" <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"oo<span class="pl-pds" style="box-sizing: border-box;">"]() { .. }   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// computed concise method
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">*[<span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"b<span class="pl-pds" style="box-sizing: border-box;">" <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"ar<span class="pl-pds" style="box-sizing: border-box;">"]() { .. }  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// computed concise generator
};</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-setting-prototype" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#setting-prototype" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Setting&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We won't cover prototypes in detail here, so for more information, see the&nbsp;<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Sometimes it will be helpful to assign the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
&nbsp;of an object at the same time you're declaring its object literal. The following has been a nonstandard extension in many JS engines for a while, but is standardized as of ES6:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    __proto__<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o1,
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
&nbsp;is declared with a normal object literal, but it's also&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
-linked to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1```
. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__proto__```
&nbsp;property name here can also be a string&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">"__proto__"```
, but note that it&nbsp;<em style="box-sizing: border-box;">cannot</em>&nbsp;be the result of a computed property name (see the previous section).<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__proto__```
&nbsp;is controversial, to say the least. It's a decades-old proprietary extension to JS that is finally standardized, somewhat begrudgingly it seems, in ES6. Many developers feel it shouldn't ever be used. In fact, it's in "Annex B" of ES6, which is the section that lists things JS feels it has to standardize for compatibility reasons only.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Though I'm narrowly endorsing&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">__proto__```
&nbsp;as a key in an object literal definition, I definitely do not endorse using it in its object property form, like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o.__proto__```
. That form is both a getter and setter (again for compatibility reasons), but there are definitely better options. See the&nbsp;<em style="box-sizing: border-box;">this &amp; Object Prototypes</em>&nbsp;title of this series for more information.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For setting the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
&nbsp;of an existing object, you can use the ES6 utility&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.setPrototypeOf(..)```
. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
};

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">setPrototypeOf( o2, o1 );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;We'll discuss&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object```
&nbsp;again in Chapter 6. "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.setPrototypeOf(..)```
&nbsp;Static Function" provides additional details on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.setPrototypeOf(..)```
. Also see "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;Static Function" for another form that relates&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
prototypically to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1```
.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-object-super" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#object-super" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Object&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: inherit; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;is typically thought of as being only related to classes. However, due to JS's classless-objects-with-prototypes nature,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;is equally effective, and nearly the same in behavior, with plain objects' concise methods.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() {
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"o1:foo<span class="pl-pds" style="box-sizing: border-box;">" );
    }
};

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() {
        <span class="pl-v" style="box-sizing: border-box; color: rgb(237, 106, 67);">super.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"o2:foo<span class="pl-pds" style="box-sizing: border-box;">" );
    }
};

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">setPrototypeOf( o2, o1 );

o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// o1:foo
                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// o2:foo</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;is only allowed in concise methods, not regular function expression properties. It also is only allowed in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super.XXX```
&nbsp;form (for property/method access), not in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super()```
&nbsp;form.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;reference in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2.foo()```
&nbsp;method is locked statically to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
, and specifically to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[[Prototype]]```
&nbsp;of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o2```
.<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
&nbsp;here would basically be&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.getPrototypeOf(o2)```
&nbsp;-- resolves to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1```
&nbsp;of course -- which is how it finds and calls<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o1.foo()```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For complete details on&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">super```
, see "Classes" in Chapter 3.
#DeStructuring
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Destructuring</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 introduces a new syntactic feature called&nbsp;<em style="box-sizing: border-box;">destructuring</em>, which may be a little less confusing if you instead think of it as&nbsp;<em style="box-sizing: border-box;">structured assignment</em>. To understand this meaning, consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var tmp <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo(),
    a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0], b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1], c <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, we created a manual assignment of the values in the array that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo()```
&nbsp;returns to individual variables&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
,<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">b```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">c```
, and to do so we (unfortunately) needed the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp```
&nbsp;variable.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similarly, we can do the following with objects:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return {
        x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4,
        y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5,
        z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6
    };
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var tmp <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar(),
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= tmp.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp.x```
&nbsp;property value is assigned to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;variable, and likewise for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp.y```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp.z```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Manually assigning indexed values from an array or properties from an object can be thought of as&nbsp;<em style="box-sizing: border-box;">structured assignment</em>. ES6 adds a dedicated syntax for&nbsp;<em style="box-sizing: border-box;">destructuring</em>, specifically&nbsp;<em style="box-sizing: border-box;">array destructuring</em>&nbsp;and&nbsp;<em style="box-sizing: border-box;">object destructuring</em>. This syntax eliminates the need for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">tmp```
&nbsp;variable in the previous snippets, making them much cleaner. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ a, b, c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You're likely more accustomed to seeing syntax like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[a,b,c]```
&nbsp;on the righthand side of an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;assignment, as the value being assigned.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Destructuring symmetrically flips that pattern, so that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[a,b,c]```
&nbsp;on the lefthand side of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;assignment is treated as a kind of "pattern" for decomposing the righthand side array value into separate variable assignments.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similarly,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: x, y: y, z: z }```
&nbsp;specifies a "pattern" to decompose the object value from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
&nbsp;into separate variable assignments.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-object-property-assignment-pattern" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#object-property-assignment-pattern" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Object Property Assignment Pattern</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's dig into that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: x, .. }```
&nbsp;syntax from the previous snippet. If the property name being matched is the same as the variable you want to declare, you can actually shorten the syntax:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x, y, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Pretty cool, right?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x, .. }```
&nbsp;leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;part or leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">: x```
&nbsp;part? We're actually leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;part when we use the shorter syntax. That may not seem like an important detail, but you'll understand its importance in just a moment.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you can write the shorter form, why would you ever write out the longer form? Because that longer form actually allows you to assign a property to a different variable name, which can sometimes be quite useful:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bam, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: baz, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bap } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( bam, baz, bap );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ReferenceError</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a subtle but super-important quirk to understand about this variation of the object destructuring form. To illustrate why it can be a gotcha you need to be careful of, let's consider the "pattern" of how normal object literals are specified:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var X <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, Y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y };

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ a: X, b: Y }```
, we know that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;is the object property, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">X```
&nbsp;is the source value that gets assigned to it. In other words, the syntactic pattern is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target: source```
, or more obviously,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">property-alias: value```
. We intuitively understand this because it's the same as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;assignment, where the pattern is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target = source```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, when you use object destructuring assignment -- that is, putting the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;object literal-looking syntax on the lefthand side of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;operator -- you invert that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target: source```
&nbsp;pattern.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bam, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: baz, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bap } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The syntactic pattern here is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">source: target```
&nbsp;(or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">value: variable-alias```
).&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x: bam```
&nbsp;means the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;property is the source value and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bam```
&nbsp;is the target variable to assign to. In other words, object literals are&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target <-- source```
, and object destructuring assignments are&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">source --> target```
. See how that's flipped?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's another way to think about this syntax though, which may help ease the confusion. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var aa <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, bb <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: aa, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: bb };
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var     { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">AA, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">BB } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">AA, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">BB );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: aa, y: bb }```
&nbsp;line, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;represent the object properties. In the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x: AA, y: BB }```
&nbsp;line, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;and the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;<em style="box-sizing: border-box;">also</em>&nbsp;represent the object properties.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Recall how earlier I asserted that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x, .. }```
&nbsp;was leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;part? In those two lines, if you erase the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x:```
&nbsp;and<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y:```
&nbsp;parts in that snippet, you're left only with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">aa, bb```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">AA, BB```
, which in effect -- only conceptually, not actually -- are assignments from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">aa```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">AA```
&nbsp;and from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bb```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">BB```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So, that symmetry may help to explain why the syntactic pattern was intentionally flipped for this ES6 feature.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;I would have preferred the syntax to be&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ AA: x , BB: y }```
&nbsp;for the destructuring assignment, as that would have preserved consistency of the more familiar&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">target: source```
&nbsp;pattern for both usages. Alas, I'm having to train my brain for the inversion, as some readers may also have to do.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-not-just-declarations" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#not-just-declarations" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Not Just Declarations</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So far, we've used destructuring assignment with&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var```
&nbsp;declarations (of course, they could also use&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">const```
), but destructuring is a general assignment operation, not just a declaration.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a, b, c, x, y, z;

[a,b,c] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
( { x, y, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar() );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The variables can already be declared, and then the destructuring only does assignments, exactly as we've already seen.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;For the object destructuring form specifically, when leaving off a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var```
/<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
/<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">const```
&nbsp;declarator, we had to surround the whole assignment expression in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( )```
, because otherwise the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ .. }```
&nbsp;on the lefthand side as the first element in the statement is taken to be a block statement instead of an object.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In fact, the assignment expressions (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
, etc.) don't actually need to be just variable identifiers. Anything that's a valid assignment expression is allowed. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

[o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
( { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar() );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can even use computed property expressions in the destructuring. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var which <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"x<span class="pl-pds" style="box-sizing: border-box;">",
    o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

( { [which]<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o[which] } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar() );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x );                 <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[which]:```
&nbsp;part is the computed property, which results in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;-- the property to destructure from the object in question as the source of the assignment. The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o[which]```
&nbsp;part is just a normal object key reference, which equates to<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o.x```
&nbsp;as the target of the assignment.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can use the general assignments to create object mappings/transformations, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

( { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">x, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">z );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or you can map an object to an array, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    a2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [];

( { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0], b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1], c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2] } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a2 );                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or the other way around:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 ],
    o2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {};

[ o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a1;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">b, o2.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Or you could reorder one array to another:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 ],
    a2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [];

[ a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2], a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0], a2[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1] ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a1;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a2 );                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [2,3,1]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can even solve the traditional "swap two variables" task without a temporary variable:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20;

[ y, x ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ x, y ];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 20 10</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;Be careful: you shouldn't mix in declaration with assignment unless you want all of the assignment expressions&nbsp;<em style="box-sizing: border-box;">also</em>&nbsp;to be treated as declarations. Otherwise, you'll get syntax errors. That's why in the earlier example I had to do&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var a2 = []```
&nbsp;separately from the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ a2[0], .. ] = ..```
&nbsp;destructuring assignment. It wouldn't make any sense to try&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var [ a2[0], .. ] = ..```
, because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a2[0]```
&nbsp;isn't a valid declaration identifier; it also obviously couldn't implicitly create a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var a2 = []```
&nbsp;declaration to use.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-repeated-assignments" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#repeated-assignments" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Repeated Assignments</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The object destructuring form allows a source property (holding any value type) to be listed multiple times. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 };

X;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
Y;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That also means you can both destructure a sub-object/array property and also capture the sub-object/array's value itself. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y }, a } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 } };

X;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
Y;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1
a;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// { x: 1 }

( { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: X, a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: Y, a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ Z ] } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 ] } );

X.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">push( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 );
Y[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10;

X;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [10,2]
Y;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [10,2]
Z;  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">A word of caution about destructuring: it may be tempting to list destructuring assignments all on a single line as has been done thus far in our discussion. However, it's a much better idea to spread destructuring assignment patterns over multiple lines, using proper indentation -- much like you would in JSON or with an object literal value -- for readability sake.<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// harder to read:
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ c, d ], e<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { f } }, g } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= obj;

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// better:
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var {
    a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: [ c, d ],
        e<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { f }
    },
    g
} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= obj;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Remember:&nbsp;<strong style="box-sizing: border-box;">the purpose of destructuring is not just less typing, but more declarative readability.</strong><h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-destructuring-assignment-expressions" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#destructuring-assignment-expressions" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Destructuring Assignment Expressions</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The assignment expression with object or array destructuring has as its completion value the full righthand object/array value. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    a, b, c, p;

p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a, b, c } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== o;                        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the previous snippet,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">p```
&nbsp;was assigned the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">o```
&nbsp;object reference, not one of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">b```
, or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">c```
&nbsp;values. The same is true of array destructuring:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3],
    a, b, c, p;

p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ a, b, c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== o;                        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// true</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">By carrying the object/array value through as the completion, you can chain destructuring assignment expressions together:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { a<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, b<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, c<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">:<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 },
    p <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6],
    a, b, c, x, y, z;

( {a} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {b,c} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o );
[x,y] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [z] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= p;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 4</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-too-many-too-few-just-enough" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#too-many-too-few-just-enough" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Too Many, Too Few, Just Enough</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">With both array destructuring assignment and object destructuring assignment, you do not have to assign all the values that are present. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [,b] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b, x, z );             <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 4 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">1```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">3```
&nbsp;values that came back from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo()```
&nbsp;are discarded, as is the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">5```
&nbsp;value from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">bar()```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Similarly, if you try to assign more values than are present in the value you're destructuring/decomposing, you get graceful fallback to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
, as you'd expect:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [,,c,d] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { w, z } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( c, z );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 3 6
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( d, w );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This behavior follows symmetrically from the earlier stated "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;is missing" principle.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">We examined the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operator earlier in this chapter, and saw that it can sometimes be used to spread an array value out into its separate values, and sometimes it can be used to do the opposite: to gather a set of values together into an array.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In addition to the gather/rest usage in function declarations,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;can perform the same behavior in destructuring assignments. To illustrate, let's recall a snippet from earlier in this chapter:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 ];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Here we see that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...a```
&nbsp;is spreading&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;out, because it appears in the array&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
&nbsp;value position. If&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...a```
&nbsp;appears in an array destructuring position, it performs the gather behavior:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ b, ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">c ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b, c );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 [3,4]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">var [ .. ] = a```
&nbsp;destructuring assignment spreads&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;out to be assigned to the pattern described inside the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[ .. ]```
. The first part names&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">b```
&nbsp;for the first value in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">a```
&nbsp;(<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">2```
). But then&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...c```
&nbsp;gathers the rest of the values (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">3```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">4```
) into an array and calls it&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">c```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;We've seen how&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;works with arrays, but what about with objects? It's not an ES6 feature, but see Chapter 8 for discussion of a possible "beyond ES6" feature where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;works with spreading or gathering objects.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-default-value-assignment" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#default-value-assignment" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Default Value Assignment</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Both forms of destructuring can offer a default value option for an assignment, using the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=```
&nbsp;syntax similar to the default function argument values discussed earlier.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6, c <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">9, d <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">12 ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">15, w <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c, d );          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3 12
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z, w );          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can combine the default value assignment with the alternative assignment expression syntax covered earlier. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x, y, z, w<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">WW <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar();

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">WW );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 4 5 6 20</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Be careful about confusing yourself (or other developers who read your code) if you use an object or array as the default value in a destructuring. You can create some really hard to understand code:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">200, y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">300, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">100;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 }, z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z } };

( { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );
( { z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );
( { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: x } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1 );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Can you tell from that snippet what values&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;have at the end? Takes a moment of pondering, I would imagine. I'll end the suspense:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, y.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y, z.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">y );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 300 100 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The takeaway here: destructuring is great and can be very useful, but it's also a sharp sword that can cause injury (to someone's brain) if used unwisely.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-nested-destructuring" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#nested-destructuring" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Nested Destructuring</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If the values you're destructuring have nested objects or arrays, you can destructure those nested values as well:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4], <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 ];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var o1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 } } };

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var [ a, [ b, c, d ], e ] <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= a1;
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { z<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: w } } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= o1;

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( a, b, c, d, e );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3 4 5
<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( w );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 6</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Nested destructuring can be a simple way to flatten out object namespaces. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var App <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    model<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">User<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(){ .. }
    }
};

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// instead of:
<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// var User = App.model.User;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var { model<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { User } } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= App;</pre><h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-destructuring-parameters" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#destructuring-parameters" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Destructuring Parameters</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the following snippet, can you spot the assignment?<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The assignment is kinda hidden:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">42```
&nbsp;(the argument) is assigned to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;(the parameter) when&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(42)```
&nbsp;is executed. If parameter/argument pairing is an assignment, then it stands to reason that it's an assignment that could be destructured, right? Of course!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider array destructuring for parameters:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( [ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y ] ) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 ] );                    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 ] );                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 undefined
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( [] );                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Object destructuring for parameters works, too:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( { <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y } ) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 } );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 1
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 } );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( {} );                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This technique is an approximation of named arguments (a long requested feature for JS!), in that the properties on the object map to the destructured parameters of the same names. That also means that we get optional parameters (in any position) for free, as you can see leaving off the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;"parameter" worked as we'd expect.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, all the previously discussed variations of destructuring are available to us with parameter destructuring, including nested destructuring, default values, and more. Destructuring also mixes fine with other ES6 function parameter capabilities, like default parameter values and rest/gather parameters.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider these quick illustrations (certainly not exhaustive of the possible variations):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f1([ <span class="pl-smi" style="box-sizing: border-box;">x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-smi" style="box-sizing: border-box;">y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-smi" style="box-sizing: border-box;">z ]) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f2([ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z], <span class="pl-smi" style="box-sizing: border-box;">w) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f3([ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z], ...<span class="pl-smi" style="box-sizing: border-box;">w) { .. }

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f4({ <span class="pl-smi" style="box-sizing: border-box;">x: <span class="pl-smi" style="box-sizing: border-box;">X, <span class="pl-smi" style="box-sizing: border-box;">y }) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f5({ <span class="pl-smi" style="box-sizing: border-box;">x: <span class="pl-smi" style="box-sizing: border-box;">X <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10, <span class="pl-smi" style="box-sizing: border-box;">y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">20 }) { .. }
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f6({ <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}, { <span class="pl-smi" style="box-sizing: border-box;">y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { <span class="pl-smi" style="box-sizing: border-box;">y: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 }) { .. }</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Let's take one example from this snippet and examine it, for illustration purposes:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f3([ <span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z], ...<span class="pl-smi" style="box-sizing: border-box;">w) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z, w );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f3( [] );                           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// undefined undefined [] []
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f3( [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4], <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 [3,4] [5,6]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There are two&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operators in use here, and they're both gathering values in arrays (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
), though&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...z```
&nbsp;gathers from the rest of the values left over in the first array argument, while&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...w```
&nbsp;gathers from the rest of the main arguments left over after the first.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-destructuring-defaults--parameter-defaults" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#destructuring-defaults--parameter-defaults" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Destructuring Defaults + Parameter Defaults</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's one subtle point you should be particularly careful to notice -- the difference in behavior between a destructuring default value and a function parameter default value. For example:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f6({ <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}, { <span class="pl-smi" style="box-sizing: border-box;">y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { <span class="pl-smi" style="box-sizing: border-box;">y: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 }) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6();                               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">At first, it would seem that we've declared a default value of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
&nbsp;for both the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;parameters, but in two different ways. However, these two different approaches will behave differently in certain cases, and the difference is awfully subtle.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( {}, {} );                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 undefined</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Wait, why did that happen? It's pretty clear that named parameter&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;is defaulting to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
&nbsp;if not passed as a property of that same name in the first argument's object.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But what about&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;being&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
? The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y: 10 }```
&nbsp;value is an object as a function parameter default value, not a destructuring default value. As such, it only applies if the second argument is not passed at all, or is passed as<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In the previous snippet, we&nbsp;<em style="box-sizing: border-box;">are</em>&nbsp;passing a second argument (<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
), so the default&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y: 10 }```
&nbsp;value is not used, and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y }```
&nbsp;destructuring occurs against the passed in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
&nbsp;empty object value.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, compare&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y } = { y: 10 }```
&nbsp;to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x = 10 } = {}```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
's form usage, if the first function argument is omitted or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
&nbsp;empty object default applies. Then, whatever value is in the first argument position -- either the default&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{}```
&nbsp;or whatever you passed in -- is destructured with the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x = 10 }```
, which checks to see if an&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;property is found, and if not found (or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
), the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">10```
&nbsp;default value is applied to the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;named parameter.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Deep breath. Read back over those last few paragraphs a couple of times. Let's review via code:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">f6({ <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}, { <span class="pl-smi" style="box-sizing: border-box;">y } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= { <span class="pl-smi" style="box-sizing: border-box;">y: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 }) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6();                               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( {}, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 10

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( {}, {} );                       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 undefined
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, {} );                <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 undefined

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">f6( { x<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 }, { y<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 } );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It would generally seem that the defaulting behavior of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;parameter is probably the more desirable and sensible case compared to that of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
. As such, it's important to understand why and how&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ x = 10 } = {}```
&nbsp;form is different from<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ y } = { y: 10 }```
&nbsp;form.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If that's still a bit fuzzy, go back and read it again, and play with this yourself. Your future self will thank you for taking the time to get this very subtle gotcha nuance detail straight.<h4 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.4; font-size: 1.25em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-nested-defaults-destructured-and-restructured" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#nested-defaults-destructured-and-restructured" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Nested Defaults: Destructured and Restructured</h4><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Although it may at first be difficult to grasp, an interesting idiom emerges for setting defaults for a nested object's properties: using object destructuring along with what I'd call&nbsp;<em style="box-sizing: border-box;">restructuring</em>.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider a set of defaults in a nested object structure, like the following:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// taken from: http://es-discourse.com/t/partial-default-arguments/120/7

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var defaults <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        remove<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true,
        enable<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false,
        instance<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {}
    },
    log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        warn<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true,
        error<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">true
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Now, let's say that you have an object called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
, which has some of these applied, but perhaps not all, and you'd like to set all the defaults into this object in the missing spots, but not override specific settings already present:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var config <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        remove<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">false,
        instance<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null
    }
};</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You can of course do so manually, as you might have done in the past:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| {};
config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">?
    config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove;
config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">?
    config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable;
...</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Yuck.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Others may prefer the assign-overwrite approach to this task. You might be tempted by the ES6&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
utility (see Chapter 6) to clone the properties first from&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">defaults```
&nbsp;and then overwritten with the cloned properties from<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
, as so:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">config <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">assign( {}, defaults, config );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That looks way nicer, huh? But there's a major problem!&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;is shallow, which means when it copies<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">defaults.options```
, it just copies that object reference, not deep cloning that object's properties to a&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config.options```
object.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;would need to be applied (sort of "recursively") at all levels of your object's tree to get the deep cloning you're expecting.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;Many JS utility libraries/frameworks provide their own option for deep cloning of an object, but those approaches and their gotchas are beyond our scope to discuss here.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So let's examine if ES6 object destructuring with defaults can help at all:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| {};
config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| {};
{
    options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        remove<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove,
        enable<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable,
        instance<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">instance <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">instance
    } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {},
    log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
        warn<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.warn <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.warn,
        error<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: config<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.error <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">default<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.error
    } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}
} <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config;</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Not as nice as the false promise of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.assign(..)```
&nbsp;(being that it's shallow only), but it's better than the manual approach by a fair bit, I think. It is still unfortunately verbose and repetitive, though.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The previous snippet's approach works because I'm hacking the destructuring and defaults mechansim to do the property&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">=== undefined```
&nbsp;checks and assignment decisions for me. It's a trick in that I'm destructuring&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
&nbsp;(see the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">= config```
&nbsp;at the end of the snippet), but I'm reassigning all the destructured values right back into&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config```
, with the<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">config.options.enable```
&nbsp;assignment references.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Still too much, though. Let's see if we can make anything better.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The following trick works best if you know that all the various properties you're destructuring are uniquely named. You can still do it even if that's not the case, but it's not as nice -- you'll have to do the destructuring in stages, or create unique local variables as temporary aliases.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If we fully destructure all the properties into top-level variables, we can then immediately restructure to reconstitute the original nested object structure.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But all those temporary variables hanging around would pollute scope. So, let's use block scoping (see "Block-Scoped Declarations" earlier in this chapter) with a general&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ }```
&nbsp;enclosing block:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// merge `defaults` into `config`
{
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// destructure (with default value assignments)
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">let {
        options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
            remove <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">remove,
            enable <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">enable,
            instance <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">options.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">instance
        } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {},
        log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: {
            warn <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.warn,
            error <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= defaults<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log.error
        } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {}
    } <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= config;

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// restructure
    config <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
        options<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { remove, enable, instance },
        log<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: { warn, error }
    };
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">That seems a fair bit nicer, huh?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;You could also accomplish the scope enclosure with an arrow IIFE instead of the general&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ }```
&nbsp;block and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
declarations. Your destructuring assignments/defaults would be in the parameter list and your restructuring would be the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">return```
&nbsp;statement in the function body.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">{ warn, error }```
&nbsp;syntax in the restructuring part may look new to you; that's called "concise properties" and we cover it in the next section!
#Default Parameters
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Default Parameter Values</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Perhaps one of the most common idioms in JavaScript relates to setting a default value for a function parameter. The way we've done this for years should look quite familiar:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11;
    y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">|| <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31;

    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 11
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 17</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, if you've used this pattern before, you know that it's both helpful and a little bit dangerous, if for example you need to be able to pass in what would otherwise be considered a falsy value for one of the parameters. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );       <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 53 <-- Oops, not 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Why? Because the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
&nbsp;is falsy, and so the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x || 11```
&nbsp;results in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">11```
, not the directly passed in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">0```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">To fix this gotcha, some people will instead write the check more verbosely like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11;
    y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31;

    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 17</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, that means that any value except&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;can be directly passed in. However,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;will be assumed to signal, "I didn't pass this in." That works great unless you actually need to be able to pass&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;in.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In that case, you could test to see if the argument is actually omitted, by it actually not being present in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
array, perhaps like this:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y) {
    x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">in arguments) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11;
    y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= (<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">in arguments) <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">? y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31;

    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// NaN</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But how would you omit the first&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;argument without the ability to pass in any kind of value (not even&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
) that signals "I'm omitting this argument"?<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(,5)```
&nbsp;is tempting, but it's invalid syntax.&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo.apply(null,[,5])```
&nbsp;seems like it should do the trick, but&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">apply(..)```
's quirks here mean that the arguments are treated as&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[undefined,5]```
, which of course doesn't omit.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you investigate further, you'll find you can only omit arguments on the end (i.e., righthand side) by simply passing fewer arguments than "expected," but you cannot omit arguments in the middle or at the beginning of the arguments list. It's just not possible.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a principle applied to JavaScript's design here that is important to remember:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;means&nbsp;<em style="box-sizing: border-box;">missing</em>. That is, there's no difference between&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
&nbsp;and&nbsp;<em style="box-sizing: border-box;">missing</em>, at least as far as function arguments go.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;There are, confusingly, other places in JS where this particular design principle doesn't apply, such as for arrays with empty slots. See the&nbsp;<em style="box-sizing: border-box;">Types &amp; Grammar</em>&nbsp;title of this series for more information.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">With all this in mind, we can now examine a nice helpful syntax added as of ES6 to streamline the assignment of default values to missing arguments:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11, <span class="pl-smi" style="box-sizing: border-box;">y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ y );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 11
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">42 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 36 <-- `undefined` is missing
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 5  <-- null coerces to `0`

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 17 <-- `undefined` is missing
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6 );         <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 6  <-- null coerces to `0`</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Notice the results and how they imply both subtle differences and similarities to the earlier approaches.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x = 11```
&nbsp;in a function declaration is more like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x !== undefined ? x : 11```
&nbsp;than the much more common idiom&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x || 11```
, so you'll need to be careful in converting your pre-ES6 code to this ES6 default parameter value syntax.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;A rest/gather parameter (see "Spread/Rest") cannot have a default value. So, while&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">function foo(...vals=[1,2,3]) {```
&nbsp;might seem an intriguing capability, it's not valid syntax. You'll need to continue to apply that sort of logic manually if necessary.<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;"><a id="user-content-default-value-expressions" class="anchor" href="https://github.com/getify/You-Dont-Know-JS/blob/master/es6%20&amp;%20beyond/ch2.md#default-value-expressions" aria-hidden="true" style="box-sizing: border-box; color: rgb(64, 120, 192); position: absolute; top: 0px; left: 0px; display: block; padding-right: 6px; padding-left: 30px; margin-left: -30px; line-height: 1.2; background-color: transparent;"></a>Default Value Expressions</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Function default values can be more than just simple values like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">31```
; they can be any valid expression, even a function call:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar(<span class="pl-smi" style="box-sizing: border-box;">val) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"bar called!<span class="pl-pds" style="box-sizing: border-box;">" );
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ val;
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">y + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-smi" style="box-sizing: border-box;">z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">bar( <span class="pl-smi" style="box-sizing: border-box;">x )) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, z );
}

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5;
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();                              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "bar called"
                                    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 8 13
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 );                          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// "bar called"
                                    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 10 15
y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">6;
<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">undefined, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">10 );               <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 9 10</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As you can see, the default value expressions are lazily evaluated, meaning they're only run if and when they're needed -- that is, when a parameter's argument is omitted or is&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">undefined```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's a subtle detail, but the formal parameters in a function declaration are in their own scope (think of it as a scope bubble wrapped around just the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">( .. )```
&nbsp;of the function declaration), not in the function body's scope. That means a reference to an identifier in a default value expression first matches the formal parameters' scope before looking to an outer scope. See the&nbsp;<em style="box-sizing: border-box;">Scope &amp; Closures</em>&nbsp;title of this series for more information.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var w <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2;

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">w + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-smi" style="box-sizing: border-box;">y <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">x + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-smi" style="box-sizing: border-box;">z <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">z + <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 ) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ReferenceError</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w + 1```
&nbsp;default value expression looks for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
&nbsp;in the formal parameters' scope, but does not find it, so the outer scope's&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">w```
&nbsp;is used. Next, The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x + 1```
&nbsp;default value expression finds&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;in the formal parameters' scope, and luckily&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;has already been initialized, so the assignment to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;works fine.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">However, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;in&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z + 1```
&nbsp;finds&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;as a not-yet-initialized-at-that-moment parameter variable, so it never tries to find the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
&nbsp;from the outer scope.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">As we mentioned in the "<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">let```
&nbsp;Declarations" section earlier in this chapter, ES6 has a TDZ, which prevents a variable from being accessed in its uninitialized state. As such, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z + 1```
&nbsp;default value expression throws a TDZ<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">ReferenceError```
&nbsp;error.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Though it's not necessarily a good idea for code clarity, a default value expression can even be an inline function expression call -- commonly referred to as an immediately invoked function expression (IIFE):<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo( <span class="pl-smi" style="box-sizing: border-box;">x <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=
    (<span class="pl-smi" style="box-sizing: border-box;">function(<span class="pl-smi" style="box-sizing: border-box;">v){ <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">+ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">11; })( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">31 )
) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo();          <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 42</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There will very rarely be any cases where an IIFE (or any other executed inline function expression) will be appropriate for default value expressions. If you find yourself tempted to do this, take a step back and reevaluate!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Warning:</strong>&nbsp;If the IIFE had tried to access the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;identifier and had not declared its own&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
, this would also have been a TDZ error, just as discussed before.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The default value expression in the previous snippet is an IIFE in that in the sense that it's a function that's executed right inline, via&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">(31)```
. If we had left that part off, the default value assigned to&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;would have just been a function reference itself, perhaps like a default callback. There will probably be cases where that pattern will be quite useful, such as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">ajax(<span class="pl-smi" style="box-sizing: border-box;">url, <span class="pl-smi" style="box-sizing: border-box;">cb <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-smi" style="box-sizing: border-box;">function(){}) {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// ..
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">ajax( <span class="pl-s" style="box-sizing: border-box; color: rgb(24, 54, 145);"><span class="pl-pds" style="box-sizing: border-box;">"http://some.url.1<span class="pl-pds" style="box-sizing: border-box;">" );</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this case, we essentially want to default&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">cb```
&nbsp;to be a no-op empty function call if not otherwise specified. The function expression is just a function reference, not a function call itself (no invoking&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">()```
&nbsp;on the end of it), which accomplishes that goal.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Since the early days of JS, there's been a little-known but useful quirk available to us:&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Function.prototype```
&nbsp;is itself an empty no-op function. So, the declaration could have been&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">cb = Function.prototype```
&nbsp;and saved the inline function expression creation.
#Spread && Rest
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Spread/Rest</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">ES6 introduces a new&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operator that's typically referred to as the&nbsp;<em style="box-sizing: border-box;">spread</em>&nbsp;or&nbsp;<em style="box-sizing: border-box;">rest</em>&nbsp;operator, depending on where/how it's used. Let's take a look:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x,<span class="pl-smi" style="box-sizing: border-box;">y,<span class="pl-smi" style="box-sizing: border-box;">z) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( ...[<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3] );              <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">When&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is used in front of an array (actually, any&nbsp;<em style="box-sizing: border-box;">iterable</em>, which we cover in Chapter 3), it acts to "spread" it out into its individual values.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">You'll typically see that usage as is shown in that previous snippet, when spreading out an array as a set of arguments to a function call. In this usage,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;acts to give us a simpler syntactic replacement for the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">apply(..)```
&nbsp;method, which we would typically have used pre-ES6 as:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);">foo.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">apply( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3] );     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 3</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;can be used to spread out/expand a value in other contexts as well, such as inside another array declaration:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var a <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4];
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var b <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [ <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">a, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 ];

<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( b );                   <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">In this usage,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is basically replacing&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">concat(..)```
, as it behaves like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">[1].concat( a, [5] )```
&nbsp;here.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The other common usage of&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;can be seen as essentially the opposite; instead of spreading a value out, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
<em style="box-sizing: border-box;">gathers</em>&nbsp;a set of values together into an array. Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(<span class="pl-smi" style="box-sizing: border-box;">x, <span class="pl-smi" style="box-sizing: border-box;">y, ...<span class="pl-smi" style="box-sizing: border-box;">z) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( x, y, z );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );           <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 1 2 [3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...z```
&nbsp;in this snippet is essentially saying: "gather the&nbsp;<em style="box-sizing: border-box;">rest</em>&nbsp;of the arguments (if any) into an array called&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
." Because<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">x```
&nbsp;was assigned&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">1```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">y```
&nbsp;was assigned&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">2```
, the rest of the arguments&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">3```
,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">4```
, and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">5```
&nbsp;were gathered into&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">z```
.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Of course, if you don't have any named parameters, the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;gathers all arguments:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(...<span class="pl-smi" style="box-sizing: border-box;">args) {
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( args );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5);            <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3,4,5]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Note:</strong>&nbsp;The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...args```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;function declaration is usually called "rest parameters," because you're collecting the rest of the parameters. I prefer "gather," because it's more descriptive of what it does rather than what it contains.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The best part about this usage is that it provides a very solid alternative to using the long-since-deprecated&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
array -- actually, it's not really an array, but an array-like object. Because&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">args```
&nbsp;(or whatever you call it -- a lot of people prefer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">r```
&nbsp;or&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">rest```
) is a real array, we can get rid of lots of silly pre-ES6 tricks we jumped through to make&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">arguments```
into something we can treat as an array.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Consider:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// doing things the new ES6 way
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">foo(...<span class="pl-smi" style="box-sizing: border-box;">args) {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// `args` is already a real array

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// discard first element in `args`
    args.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">shift();

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// pass along all of `args` as arguments
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to `console.log(..)`
    <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">console<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">.log( ...<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">args );
}

<span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// doing things the old-school pre-ES6 way
<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function <span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">bar() {
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// turn `arguments` into a real array
    <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var args <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Array.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">prototype.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">slice.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">call( arguments );

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// add some elements on the end
    args.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">push( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">4, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">5 );

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// filter out odd numbers
    args <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= args.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">filter( <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">v){
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">% <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0;
    } );

    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// pass along all of `args` as arguments
    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// to `foo(..)`
    foo.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">apply( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">null, args );
}

<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">bar( <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2, <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3 );                  <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// 2 4</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...args```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo(..)```
&nbsp;function declaration gathers arguments, and the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...args```
&nbsp;in the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">console.log(..)```
&nbsp;call spreads them out. That's a good illustration of the symmetric but opposite uses of the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;operator.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Besides the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;usage in a function declaration, there's another case where&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">...```
&nbsp;is used for gathering values, and we'll look at it in the "Too Many, Too Few, Just Enough" section later in this chapter.
#Scope
#Syntax
#Shims/Polyfills
<h3 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.43; font-size: 1.5em; position: relative; color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Shims/Polyfills</h3><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Not all new ES6 features need a transpiler. Polyfills (aka shims) are a pattern for defining equivalent behavior from a newer environment into an older environment, when possible. Syntax cannot be polyfilled, but APIs often can be.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example,&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.is(..)```
&nbsp;is a new utility for checking strict equality of two values but without the nuanced exceptions that&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">===```
&nbsp;has for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">NaN```
&nbsp;and&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">-0```
&nbsp;values. The polyfill for&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">Object.is(..)```
&nbsp;is pretty easy:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">is) {
    <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">Object.<span class="pl-en" style="box-sizing: border-box; color: rgb(121, 93, 163);">is <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">function(<span class="pl-smi" style="box-sizing: border-box;">v1, <span class="pl-smi" style="box-sizing: border-box;">v2) {
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// test for `-0`
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">&amp;&amp; v2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">0) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 / v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== <span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1 / v2;
        }
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// test for `NaN`
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">if (v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== v1) {
            <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v2 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">!== v2;
        }
        <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// everything else
        <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">return v1 <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">=== v2;
    };
}</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><strong style="box-sizing: border-box;">Tip:</strong>&nbsp;Pay attention to the outer&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">if```
&nbsp;statement guard wrapped around the polyfill. This is an important detail, which means the snippet only defines its fallback behavior for older environments where the API in question isn't already defined; it would be very rare that you'd want to overwrite an existing API.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">There's a great collection of ES6 shims called "ES6 Shim" (<a href="https://github.com/paulmillr/es6-shim/" style="box-sizing: border-box; color: rgb(64, 120, 192); background-color: transparent;">https://github.com/paulmillr/es6-shim/</a>) that you should definitely adopt as a standard part of any new JS project!<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It is assumed that JS will continue to evolve constantly, with browsers rolling out support for features continually rather than in large chunks. So the best strategy for keeping updated as it evolves is to just introduce polyfill shims into your code base, and a transpiler step into your build workflow, right now and get used to that new reality.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">If you decide to keep the status quo and just wait around for all browsers without a feature supported to go away before you start using the feature, you're always going to be way behind. You'll sadly be missing out on all the innovations designed to make writing JavaScript more effective, efficient, and robust.
#Babel.js
#transpiling
<h2 style="box-sizing: border-box; margin-top: 1em; margin-bottom: 16px; line-height: 1.225; font-size: 1.75em; position: relative; padding-bottom: 0.3em; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(51, 51, 51); font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif;">Transpiling</h2><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Made even worse by the rapid evolution of features, a problem arises for JS developers who at once may both strongly desire to use new features while at the same time being slapped with the reality that their sites/apps may need to support older browsers without such support.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">The way ES5 appears to have played out in the broader industry, the typical mindset was that code bases waited to adopt ES5 until most if not all pre-ES5 environments had fallen out of their support spectrum. As a result, many are just recently (at the time of this writing) starting to adopt things like&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">strict```
&nbsp;mode, which landed in ES5 over five years ago.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">It's widely considered to be a harmful approach for the future of the JS ecosystem to wait around and trail the specification by so many years. All those responsible for evolving the language desire for developers to begin basing their code on the new features and patterns as soon as they stabilize in specification form and browsers have a chance to implement them.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">So how do we resolve this seeming contradiction? The answer is tooling, specifically a technique called&nbsp;<em style="box-sizing: border-box;">transpiling</em>(transformation + compiling). Roughly, the idea is to use a special tool to transform your ES6 code into equivalent (or close!) matches that work in ES5 environments.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">For example, consider shorthand property definitions (see "Object Literal Extensions" in Chapter 2). Here's the ES6 form:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var foo <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var obj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    foo     <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// means `foo: foo`
};

obj.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo;    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">But (roughly) here's how that transpiles:<div class="highlight highlight-js" style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;"><pre style="box-sizing: border-box; overflow: auto; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; margin-bottom: 0px; font-stretch: normal; line-height: 1.45; padding: 16px; border-radius: 3px; word-wrap: normal; word-break: normal; background-color: rgb(247, 247, 247);"><span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var foo <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= [<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">1,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">2,<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">3];

<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">var obj <span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">= {
    foo<span class="pl-k" style="box-sizing: border-box; color: rgb(167, 29, 93);">: foo
};

obj.<span class="pl-c1" style="box-sizing: border-box; color: rgb(0, 134, 179);">foo;    <span class="pl-c" style="box-sizing: border-box; color: rgb(150, 152, 150);">// [1,2,3]</pre><p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">This is a minor but pleasant transformation that lets us shorten the&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo: foo```
&nbsp;in an object literal declaration to just&nbsp;<code style="box-sizing: border-box; font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; font-size: 13.6000003814697px; padding: 0.2em 0px; margin: 0px; background-color: rgba(0, 0, 0, 0.0392157);">foo```
, if the names are the same.<p style="box-sizing: border-box; margin-bottom: 16px; font-family: 'Helvetica Neue', Helvetica, 'Segoe UI', Arial, freesans, sans-serif; font-size: 16px; line-height: 25.6000003814697px;">Transpilers perform these transformations for you, usually in a build workflow step similar to how you perform linting, minification, and other similar operations.
#How do I use ES6
#What's ES6
#Concepts
#...
